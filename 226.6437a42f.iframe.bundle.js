"use strict";(self.webpackChunkclickable_json=self.webpackChunkclickable_json||[]).push([[226],{"./src/ClickableJson/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>ClickableJson});var react=__webpack_require__("./node_modules/react/index.js");const context=react.createContext(null);var context_style=__webpack_require__("./src/context/style.ts"),css=__webpack_require__("./src/css.ts"),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js"),json_pointer=__webpack_require__("./node_modules/json-joy/es2020/json-pointer/index.js"),FlexibleInput=__webpack_require__("./src/FlexibleInput/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const JsonProperty=_ref=>{let{pointer,onChange}=_ref;const{formal}=(0,context_style.y)(),steps=react.useMemo((()=>pointer.split("/")),[pointer]),property=react.useMemo((()=>(0,json_pointer.unescapeComponent)(steps[steps.length-1])),[steps]),[proposed,setProposed]=react.useState(property),inputRef=react.useRef(null),[focused,setFocused]=react.useState(!1),theme=(0,lib.useTheme)(),style={color:theme.g(.1)};focused&&(style.background=theme.bg,style.border=`1px solid ${theme.g(.9)}`,style.fontWeight="bold",style.margin="-3px",style.padding="2px"),property&&-1===property.indexOf(" ")||(style.background=theme.blue(.1));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[onChange?(0,jsx_runtime.jsx)("span",{className:css.Cb+css.qH,style,children:(0,jsx_runtime.jsx)(FlexibleInput.o,{inp:el=>inputRef.current=el,value:focused?proposed:property,onChange:e=>setProposed(e.target.value),onFocus:e=>{const input=e.target,length=input.value.length;length&&length<6&&setTimeout((()=>{input.setSelectionRange(0,length,"forward")}),155),setFocused(!0)},onBlur:()=>{setFocused(!1)},onSubmit:e=>{inputRef.current&&(inputRef.current.blur(),setFocused(!1)),(e=>{e&&e.preventDefault(),e&&e.stopPropagation(),onChange&&onChange([{op:"move",from:pointer,path:steps.slice(0,steps.length-1).join("/")+"/"+(0,json_pointer.escapeComponent)(proposed)}])})(e)},onCancel:()=>{inputRef.current&&(inputRef.current.blur(),setFocused(!1))}})}):(0,jsx_runtime.jsx)("span",{className:css.Cb,style,children:formal?JSON.stringify(property):property}),(0,jsx_runtime.jsx)("span",{className:css.ob,style:{color:theme.g(.5)},children:(0,jsx_runtime.jsx)("span",{children:":"})})]})};try{JsonProperty.displayName="JsonProperty",JsonProperty.__docgenInfo={description:"",displayName:"JsonProperty",props:{pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"OnChange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonProperty.tsx#JsonProperty"]={docgenInfo:JsonProperty.__docgenInfo,name:"JsonProperty",path:"src/ClickableJson/JsonProperty.tsx#JsonProperty"})}catch(__react_docgen_typescript_loader_error){}var utils=__webpack_require__("./src/ClickableJson/utils.tsx");const ValueInput=props=>{const{value,onChange}=props,inputRef=react.useRef(null),theme=(0,lib.useTheme)(),json=react.useMemo((()=>null===value?"null":"boolean"==typeof value?value?"true":"false":"string"==typeof value?JSON.stringify(value):String(value)),[value,theme]),[proposed,setProposed]=react.useState(json),[focused,setFocused]=react.useState(!1);react.useEffect((()=>{setProposed(json)}),[json]);return(0,jsx_runtime.jsx)("span",{className:css.qH,style:focused?(0,utils.hG)(theme,!theme.isLight,proposed):{color:(0,utils.pG)(!theme.isLight,value),background:(0,utils.ON)(value)},children:(0,jsx_runtime.jsx)(FlexibleInput.o,{inp:el=>inputRef.current=el,value:focused?proposed:json,typeahead:focused?(0,utils.fo)(proposed):"",onChange:e=>setProposed(e.target.value),onFocus:e=>{const input=e.target,value=input.value,length=value.length;length&&length<40&&value===proposed&&setTimeout((()=>{if('"'===value[0]&&'"'===value[length-1])(length<17||-1===value.indexOf("\n")&&-1===value.indexOf(" "))&&input.setSelectionRange(1,length-1,"forward");else if("null"===value)input.setSelectionRange(0,4,"forward");else try{switch(typeof JSON.parse(value)){case"number":case"boolean":input.setSelectionRange(0,length,"forward")}}catch{}}),155),setFocused(!0)},onBlur:()=>{setFocused(!1)},onSubmit:e=>{inputRef.current&&inputRef.current.blur(),(e=>{let newValue;e&&e.preventDefault(),e&&e.stopPropagation();try{newValue=JSON.parse(proposed)}catch{newValue=String(proposed)}onChange&&onChange(newValue)})(e)},onCancel:()=>{json!==proposed?setProposed(json):inputRef.current&&inputRef.current.blur()},onTab:e=>{const ahead=(0,utils.fo)(proposed);ahead&&(e.preventDefault(),setProposed(proposed+ahead))}})})};ValueInput.displayName="ValueInput";try{ValueInput.displayName="ValueInput",ValueInput.__docgenInfo={description:"",displayName:"ValueInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"unknown"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: unknown) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/ValueInput.tsx#ValueInput"]={docgenInfo:ValueInput.__docgenInfo,name:"ValueInput",path:"src/ClickableJson/ValueInput.tsx#ValueInput"})}catch(__react_docgen_typescript_loader_error){}var JsonAtom=__webpack_require__("./src/JsonAtom/index.tsx");const JsonValue=props=>{const{pointer,property,doc,parentCollapsed,comma,onChange}=props,isBinary=doc instanceof Uint8Array;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["string"==typeof property&&(0,jsx_runtime.jsx)(JsonProperty,{pointer,onChange},"k"+String(parentCollapsed)),!onChange||isBinary?(0,jsx_runtime.jsx)(JsonAtom.c,{value:doc}):(0,jsx_runtime.jsx)(ValueInput,{value:doc,onChange:newValue=>{onChange&&onChange([{op:"replace",path:pointer,value:newValue}])}},String(parentCollapsed)),!!comma&&","]})};try{JsonValue.displayName="JsonValue",JsonValue.__docgenInfo={description:"",displayName:"JsonValue",props:{pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}},property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"string | number"}},doc:{defaultValue:null,description:"",name:"doc",required:!0,type:{name:"unknown"}},parentCollapsed:{defaultValue:null,description:"",name:"parentCollapsed",required:!1,type:{name:"boolean"}},comma:{defaultValue:null,description:"",name:"comma",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"OnChange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonValue.tsx#JsonValue"]={docgenInfo:JsonValue.__docgenInfo,name:"JsonValue",path:"src/ClickableJson/JsonValue.tsx#JsonValue"})}catch(__react_docgen_typescript_loader_error){}var FocusRegion=__webpack_require__("./src/FocusRegion/index.tsx"),context_focus=__webpack_require__("./src/context/focus.tsx"),context_input=__webpack_require__("./src/context/input.tsx");const JsonHoverable=_ref=>{let{pointer,children}=_ref;const{focused,focus,pointed,point}=(0,context_focus.KK)(),{pfx,onChange}=react.useContext(context),{compact}=(0,context_style.y)(),input=(0,context_input.Gl)(),prefixedPointer=pfx+pointer;return(0,jsx_runtime.jsx)(FocusRegion._,{pointed:pointed===prefixedPointer,focused:focused===prefixedPointer,compact,onClick:e=>{e.preventDefault(),e.stopPropagation(),focus(prefixedPointer)},onMouseMove:e=>{e.stopPropagation(),pointed!==prefixedPointer&&point(prefixedPointer)},onMouseEnter:e=>{e.preventDefault(),e.stopPropagation(),point(prefixedPointer)},onMouseLeave:()=>{point(null)},onDelete:onChange&&!input.focused&&prefixedPointer===focused?()=>onChange([{op:"remove",path:pointer}]):void 0,children})};JsonHoverable.displayName="JsonHoverable";try{JsonHoverable.displayName="JsonHoverable",JsonHoverable.__docgenInfo={description:"",displayName:"JsonHoverable",props:{pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonHoverable.tsx#JsonHoverable"]={docgenInfo:JsonHoverable.__docgenInfo,name:"JsonHoverable",path:"src/ClickableJson/JsonHoverable.tsx#JsonHoverable"})}catch(__react_docgen_typescript_loader_error){}var lib_json_pointer=__webpack_require__("./node_modules/json-joy/lib/json-pointer/index.js"),ObjectInsert=__webpack_require__("./src/inserts/ObjectInsert.tsx");const JsonObjectInsert=_ref=>{let{pointer,visible}=_ref;const{onChange}=react.useContext(context);if(!onChange)return null;return(0,jsx_runtime.jsx)(ObjectInsert.G,{visible,onSubmit:(property,value)=>{let newValue;try{newValue=JSON.parse(value)}catch{newValue=String(value)}onChange([{op:"add",path:pointer+"/"+(0,lib_json_pointer.escapeComponent)(property),value:newValue}])}})};JsonObjectInsert.displayName="JsonObjectInsert";try{JsonObjectInsert.displayName="JsonObjectInsert",JsonObjectInsert.__docgenInfo={description:"",displayName:"JsonObjectInsert",props:{pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonObjectInsert.tsx#JsonObjectInsert"]={docgenInfo:JsonObjectInsert.__docgenInfo,name:"JsonObjectInsert",path:"src/ClickableJson/JsonObjectInsert.tsx#JsonObjectInsert"})}catch(__react_docgen_typescript_loader_error){}var ArrayInsert=__webpack_require__("./src/inserts/ArrayInsert.tsx");const JsonArrayInsert=_ref=>{let{pointer,visible}=_ref;const{onChange}=react.useContext(context);if(!onChange)return null;return(0,jsx_runtime.jsx)(ArrayInsert.G,{visible,onSubmit:value=>{let newValue;try{newValue=JSON.parse(value)}catch{newValue=String(value)}onChange([{op:"add",path:pointer,value:newValue}])}})};JsonArrayInsert.displayName="JsonArrayInsert";try{JsonArrayInsert.displayName="JsonArrayInsert",JsonArrayInsert.__docgenInfo={description:"",displayName:"JsonArrayInsert",props:{pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonArrayInsert.tsx#JsonArrayInsert"]={docgenInfo:JsonArrayInsert.__docgenInfo,name:"JsonArrayInsert",path:"src/ClickableJson/JsonArrayInsert.tsx#JsonArrayInsert"})}catch(__react_docgen_typescript_loader_error){}var ObjectLayout=__webpack_require__("./src/ObjectLayout/index.tsx");const JsonObject=_ref=>{let{property,doc,pointer,parentCollapsed,comma,onChange}=_ref;const{pfx}=react.useContext(context),{focused}=(0,context_focus.KK)(),{formal,keepOrder,collapsed:startsCollapsed}=(0,context_style.y)(),keys=react.useMemo((()=>{const k=Object.keys(doc);return keepOrder?k:k.sort()}),[doc]),[collapsed,setCollapsed]=react.useState(startsCollapsed),entries=keys.map(((key,index)=>{const itemPointer=`${pointer}/${(0,json_pointer.escapeComponent)(key)}`;return(0,jsx_runtime.jsx)("span",{className:css.jv,children:(0,jsx_runtime.jsx)(JsonHoverable,{pointer:itemPointer,children:(0,jsx_runtime.jsx)("span",{className:css.WQ,children:(0,jsx_runtime.jsx)(JsonDoc,{property:key,doc:doc[key],pointer:itemPointer,parentCollapsed:collapsed,comma:formal&&index<keys.length-1,onChange})})})},key)}));return(0,jsx_runtime.jsxs)(ObjectLayout.D,{collapsed,collapsedView:!!keys.length&&(0,jsx_runtime.jsx)("strong",{children:keys.length}),comma,property:"string"==typeof property&&(0,jsx_runtime.jsx)(JsonProperty,{pointer,onChange},"k"+String(parentCollapsed)),onClick:()=>{collapsed&&setCollapsed(!1)},onCollapserClick:()=>setCollapsed((x=>!x)),onBracketClick:()=>{collapsed||pfx+pointer!==focused||setCollapsed(!0)},children:[entries,(0,jsx_runtime.jsx)(JsonObjectInsert,{pointer,visible:focused===pfx+pointer})]})};JsonObject.displayName="JsonObject";const JsonArray=_ref2=>{let{property,doc,pointer,parentCollapsed,comma,onChange}=_ref2;const{pfx}=react.useContext(context),{focused}=(0,context_focus.KK)(),{formal:selectable,collapsed:startsCollapsed}=(0,context_style.y)(),[collapsed,setCollapsed]=react.useState(startsCollapsed),entries=doc.map(((value,index)=>{const itemPointer=`${pointer}/${index}`;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(JsonArrayInsert,{pointer:`${pointer}/${index}`,visible:focused===pfx+pointer}),(0,jsx_runtime.jsx)("span",{className:css.jv,children:(0,jsx_runtime.jsx)(JsonHoverable,{pointer:itemPointer,children:(0,jsx_runtime.jsx)("span",{className:css.WQ,children:(0,jsx_runtime.jsx)(JsonDoc,{doc:doc[index],pointer:itemPointer,parentCollapsed:collapsed,comma:selectable&&index<doc.length-1,onChange})})})})]},index)}));return(0,jsx_runtime.jsxs)(ObjectLayout.D,{collapsed,collapsedView:!!doc.length&&(0,jsx_runtime.jsx)("strong",{children:doc.length}),comma,property:"string"==typeof property&&(0,jsx_runtime.jsx)(JsonProperty,{pointer,onChange},"k"+String(parentCollapsed)),onClick:()=>{collapsed&&setCollapsed(!1)},onCollapserClick:()=>setCollapsed((x=>!x)),onBracketClick:()=>{collapsed||pfx+pointer!==focused||setCollapsed(!0)},brackets:["[","]"],children:[entries,(0,jsx_runtime.jsx)(JsonArrayInsert,{pointer:`${pointer}/-`,visible:focused===pfx+pointer})]})};JsonArray.displayName="JsonArray";const JsonDoc=props=>{const{doc,comma}=props;return doc&&"object"==typeof doc?Array.isArray(doc)?(0,jsx_runtime.jsx)(JsonArray,{...props,doc}):doc instanceof Uint8Array?(0,jsx_runtime.jsx)(JsonValue,{...props,comma}):(0,jsx_runtime.jsx)(JsonObject,{...props,doc}):(0,jsx_runtime.jsx)(JsonValue,{...props})};try{JsonDoc.displayName="JsonDoc",JsonDoc.__docgenInfo={description:"",displayName:"JsonDoc",props:{property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"string | number"}},doc:{defaultValue:null,description:"",name:"doc",required:!0,type:{name:"unknown"}},pointer:{defaultValue:null,description:"",name:"pointer",required:!0,type:{name:"string"}},parentCollapsed:{defaultValue:null,description:"",name:"parentCollapsed",required:!1,type:{name:"boolean"}},comma:{defaultValue:null,description:"",name:"comma",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"OnChange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/JsonDoc.tsx#JsonDoc"]={docgenInfo:JsonDoc.__docgenInfo,name:"JsonDoc",path:"src/ClickableJson/JsonDoc.tsx#JsonDoc"})}catch(__react_docgen_typescript_loader_error){}var Root=__webpack_require__("./src/Root/index.tsx");const ClickableJson=props=>{const{onFocus}=props,onChange=props.readonly?void 0:props.onChange;return(0,jsx_runtime.jsx)(context_focus.eQ,{children:(0,jsx_runtime.jsx)(context_style.D.Provider,{value:props,children:(0,jsx_runtime.jsx)(context.Provider,{value:{pfx:props.pfx??"",onChange},children:(0,jsx_runtime.jsx)(Root.f,{onFocus,children:(0,jsx_runtime.jsx)(JsonHoverable,{pointer:"",children:(0,jsx_runtime.jsx)(JsonDoc,{...props,pointer:"",onChange})})})})})})};ClickableJson.displayName="ClickableJson";try{ClickableJson.displayName="ClickableJson",ClickableJson.__docgenInfo={description:"",displayName:"ClickableJson",props:{doc:{defaultValue:null,description:"The JSON to display. Can be any JSON value.",name:"doc",required:!0,type:{name:"unknown"}},pfx:{defaultValue:null,description:"Prefix specified by the parent JSON. Used internally.",name:"pfx",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback called when the JSON is changed. The callback receives a [JSON Patch\n(RFC 6902)](https://datatracker.ietf.org/doc/html/rfc6902) as an argument.",name:"onChange",required:!1,type:{name:"OnChange"}},onFocus:{defaultValue:null,description:"Callback called when the JSON is clicked, returns the clicked JSON pointer.",name:"onFocus",required:!1,type:{name:"((pointer: string | null) => void)"}},readonly:{defaultValue:{value:"false"},description:"If true, the JSON is not editable. Useful for displaying JSON.",name:"readonly",required:!1,type:{name:"boolean"}},formal:{defaultValue:{value:"false"},description:"Print the JSON in a more formal way. Adds quotes to keys and string values.\nAdds commas after each property.\n\nWorks only in readonly mode.",name:"formal",required:!1,type:{name:"boolean"}},keepOrder:{defaultValue:{value:"false"},description:"Keep the order of properties in objects. By default the properties are\nsorted alphabetically.",name:"keepOrder",required:!1,type:{name:"boolean"}},fontSize:{defaultValue:{value:"13.4px"},description:"Font size of the JSON.",name:"fontSize",required:!1,type:{name:"string"}},compact:{defaultValue:{value:"false"},description:"If true, the JSON is printed in a compact way. Reduces spacing between\nelements.",name:"compact",required:!1,type:{name:"boolean"}},collapsed:{defaultValue:{value:"false"},description:"If true, the JSON starts collapsed, but can be expanded by clicking on it.",name:"collapsed",required:!1,type:{name:"boolean"}},noCollapseToggles:{defaultValue:{value:"false"},description:"Whether to show +/- buttons to expand/collapse objects and arrays.",name:"noCollapseToggles",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/index.tsx#ClickableJson"]={docgenInfo:ClickableJson.__docgenInfo,name:"ClickableJson",path:"src/ClickableJson/index.tsx#ClickableJson"})}catch(__react_docgen_typescript_loader_error){}},"./src/ClickableJson/utils.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ON:()=>valueBg,fo:()=>typeahead,hG:()=>inputStyle,pG:()=>valueColor});var nano_theme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/css.ts");const valueColor=(isDark,value)=>{switch(typeof value){case"boolean":return _css__WEBPACK_IMPORTED_MODULE_1__.SM.bool[~~isDark];case"string":return _css__WEBPACK_IMPORTED_MODULE_1__.SM.str[~~isDark];case"number":return value?value===Math.round(value)?_css__WEBPACK_IMPORTED_MODULE_1__.SM.num[~~isDark]:_css__WEBPACK_IMPORTED_MODULE_1__.SM.float[~~isDark]:_css__WEBPACK_IMPORTED_MODULE_1__.SM.zero[~~isDark];case"bigint":return _css__WEBPACK_IMPORTED_MODULE_1__.SM.float[~~isDark];case"object":return null===value?_css__WEBPACK_IMPORTED_MODULE_1__.SM.nil[~~isDark]:void 0;case"undefined":return _css__WEBPACK_IMPORTED_MODULE_1__.SM.undef[~~isDark]}},valueBg=value=>!1===value||"number"==typeof value&&value<0?nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.red(.06):void 0,inputColor=(isDark,input)=>{if(input){if("true"===(input=input.trim())||"false"===input)return _css__WEBPACK_IMPORTED_MODULE_1__.SM.bool[~~isDark];if("null"===input)return _css__WEBPACK_IMPORTED_MODULE_1__.SM.nil[~~isDark];if("undefined"===input)return _css__WEBPACK_IMPORTED_MODULE_1__.SM.undef[~~isDark];if("0"===input)return _css__WEBPACK_IMPORTED_MODULE_1__.SM.zero[~~isDark];if(input.length<24&&("-"===input[0]||input[0]>="0"&&input[0]<="9"))try{const parsed=JSON.parse(input);if("number"==typeof parsed)return parsed===Math.round(parsed)?_css__WEBPACK_IMPORTED_MODULE_1__.SM.num[~~isDark]:_css__WEBPACK_IMPORTED_MODULE_1__.SM.float[~~isDark]}catch{}if("["!==input[0]&&"{"!==input[0])return _css__WEBPACK_IMPORTED_MODULE_1__.SM.str[~~isDark]}},inputStyle=(theme,isDark,input)=>({color:inputColor(isDark,input)||theme.g(.1),background:theme.bg,borderColor:theme.g(.7)}),typeahead=value=>{if(!value)return"";const length=value.length;return length>=5?"":"true".startsWith(value)?"true".slice(length):"false".startsWith(value)?"false".slice(length):"null".startsWith(value)?"null".slice(length):""};try{valueBg.displayName="valueBg",valueBg.__docgenInfo={description:"",displayName:"valueBg",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/utils.tsx#valueBg"]={docgenInfo:valueBg.__docgenInfo,name:"valueBg",path:"src/ClickableJson/utils.tsx#valueBg"})}catch(__react_docgen_typescript_loader_error){}try{typeahead.displayName="typeahead",typeahead.__docgenInfo={description:"",displayName:"typeahead",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ClickableJson/utils.tsx#typeahead"]={docgenInfo:typeahead.__docgenInfo,name:"typeahead",path:"src/ClickableJson/utils.tsx#typeahead"})}catch(__react_docgen_typescript_loader_error){}},"./src/FlexibleInput/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>FlexibleInput});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,lib.rule)({d:"inline-block",pos:"relative"}),inputClass=(0,lib.rule)({bxz:"border-box",ov:"hidden",pd:0,mr:0,bd:0,bg:0,out:0,col:"inherit",fw:"inherit",f:"inherit"}),sizerClass=(0,lib.rule)({pos:"absolute",ov:"hidden",pe:"none",us:"none",bxz:"border-box",t:0,l:0,ws:"pre"}),FlexibleInput=_ref=>{let{inp,value,typeahead="",extraWidth,minWidth=8,maxWidth,focus,onChange,onFocus,onBlur,onKeyDown,onSubmit,onCancel,onTab}=_ref;const inputRef=react.useRef(null),sizerRef=react.useRef(null),theme=(0,lib.useTheme)();return react.useLayoutEffect((()=>{inputRef.current&&sizerRef.current&&(focus&&inputRef.current.focus(),((from,to,which)=>{const styles=window.getComputedStyle(from);if(styles)for(const property of which)to.style[property]=styles[property]})(inputRef.current,sizerRef.current,["font","fontSize","fontFamily","fontWeight","fontStyle","lineHeight","letterSpacing","textTransform","height","boxSizing"]))}),[]),react.useLayoutEffect((()=>{if(!inputRef.current||!sizerRef.current)return;let width=sizerRef.current.scrollWidth;extraWidth&&(width+=extraWidth),minWidth&&(width=Math.max(width,minWidth)),maxWidth&&(width=Math.min(width,maxWidth)),inputRef.current.style.width=width+"px"}),[value,typeahead,extraWidth]),(0,jsx_runtime.jsxs)("div",{className:blockClass,children:[(0,jsx_runtime.jsx)("input",{ref:input=>{inputRef.current=input,inp&&inp(input)},className:inputClass,value,onChange,onFocus,onBlur,onKeyDown:e=>{"Enter"===e.key?onSubmit&&onSubmit(e):"Escape"===e.key?onCancel&&onCancel(e):"Tab"===e.key&&onTab&&onTab(e),onKeyDown&&onKeyDown(e)}}),(0,jsx_runtime.jsxs)("div",{ref:sizerRef,className:sizerClass,children:[(0,jsx_runtime.jsx)("span",{style:{visibility:"hidden"},children:value}),(0,jsx_runtime.jsx)("span",{style:{color:theme.g(.7)},children:typeahead})]})]})};FlexibleInput.displayName="FlexibleInput";try{FlexibleInput.displayName="FlexibleInput",FlexibleInput.__docgenInfo={description:"",displayName:"FlexibleInput",props:{inp:{defaultValue:null,description:"Ref to the input element.",name:"inp",required:!1,type:{name:"((el: HTMLInputElement | null) => void)"}},value:{defaultValue:null,description:"Value to display.",name:"value",required:!0,type:{name:"string"}},typeahead:{defaultValue:{value:""},description:"Typeahead string to add to the value. It is visible at half opacity.",name:"typeahead",required:!1,type:{name:"string"}},extraWidth:{defaultValue:null,description:"Addition width to add, for example, to account for number stepper.",name:"extraWidth",required:!1,type:{name:"number"}},minWidth:{defaultValue:{value:"8"},description:"Minimum width to allow.",name:"minWidth",required:!1,type:{name:"number"}},maxWidth:{defaultValue:null,description:"Maximum width to allow.",name:"maxWidth",required:!1,type:{name:"number"}},focus:{defaultValue:null,description:"Whether the input is focused on initial render.",name:"focus",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Callback for when the value changes.",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"Callback for when the input is focused.",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Callback for when the input is blurred.",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onKeyDown:{defaultValue:null,description:"Callback for when a key is pressed.",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onSubmit:{defaultValue:null,description:"Callback for when the Enter key is pressed.",name:"onSubmit",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onCancel:{defaultValue:null,description:"Callback for when the Escape key is pressed.",name:"onCancel",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onTab:{defaultValue:null,description:"Callback for when the Tab key is pressed.",name:"onTab",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FlexibleInput/index.tsx#FlexibleInput"]={docgenInfo:FlexibleInput.__docgenInfo,name:"FlexibleInput",path:"src/FlexibleInput/index.tsx#FlexibleInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/FocusRegion/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>FocusRegion});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js"),use_t_lib=__webpack_require__("./node_modules/use-t/lib/index.js"),css=__webpack_require__("./src/css.ts"),CancelAction=__webpack_require__("./src/buttons/Action/CancelAction.tsx"),Action=__webpack_require__("./src/buttons/Action/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const EditAction=props=>(0,jsx_runtime.jsx)(Action.a,{...props,children:"…"});EditAction.displayName="EditAction";try{EditAction.displayName="EditAction",EditAction.__docgenInfo={description:"",displayName:"EditAction",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"ReactNode"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/Action/EditAction.tsx#EditAction"]={docgenInfo:EditAction.__docgenInfo,name:"EditAction",path:"src/buttons/Action/EditAction.tsx#EditAction"})}catch(__react_docgen_typescript_loader_error){}const hoverableClass=(0,lib.rule)({d:"inline-block",pos:"relative",va:"top",bxz:"border-box",pd:"3px",bdrad:"4px",trs:"background-color .3s ease-out"}),hoverableCompactClass=(0,lib.rule)({pd:"1px 3px"}),hoveredClass=(0,lib.rule)({bgc:lib.theme.blue(.1)}),hoveredNegativeClass=(0,lib.rule)({bgc:lib.theme.red(.1)}),hoveredDangerClass=(0,lib.rule)({bgc:lib.theme.red(.08)}),activeClass=(0,lib.rule)({out:`1px dotted ${css.iN}`}),activeNegativeClass=(0,lib.rule)({out:`1px dotted ${css.pd}`}),asideClass=(0,lib.rule)({d:"inline-block",pos:"absolute",top:"-1px",l:"calc(100% + 0.5em)"}),editActionClass=(0,lib.rule)({d:"inline-block",pos:"absolute",r:"-6px",b:"-9px",z:2}),FocusRegion=props=>{const{focused,pointed,compact,aside,negative,children,onClick,onMouseMove,onMouseEnter,onMouseLeave,onDelete,onEdit}=props,[t]=(0,use_t_lib.NT)(),[deleteHovered,setDeleteHovered]=react.useState(!1),deleteButton=onDelete?(0,jsx_runtime.jsx)(CancelAction.H,{tooltip:t("Delete"),onClick:onDelete,onMouseEnter:()=>setDeleteHovered(!0),onMouseOver:()=>setDeleteHovered(!0),onMouseLeave:()=>setDeleteHovered(!1)}):void 0,className=hoverableClass+(compact?hoverableCompactClass:"")+(pointed?negative?hoveredNegativeClass:hoveredClass:"")+(deleteHovered?hoveredDangerClass:"")+(focused?negative?activeNegativeClass:activeClass:"");return(0,jsx_runtime.jsxs)("span",{className,style:{outline:deleteHovered?`1px dotted ${css.pd}`:void 0},onMouseMove,onMouseEnter,onMouseLeave,onClick,children:[children,deleteButton,!!focused&&onEdit&&(0,jsx_runtime.jsx)("span",{className:editActionClass,children:(0,jsx_runtime.jsx)(EditAction,{tooltip:t("Edit"),onClick:onEdit})}),!!aside&&(0,jsx_runtime.jsx)("span",{className:asideClass,children:aside})]})};FocusRegion.displayName="FocusRegion";try{FocusRegion.displayName="FocusRegion",FocusRegion.__docgenInfo={description:"",displayName:"FocusRegion",props:{focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},pointed:{defaultValue:null,description:"",name:"pointed",required:!1,type:{name:"boolean"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},aside:{defaultValue:null,description:"",name:"aside",required:!1,type:{name:"ReactNode"}},negative:{defaultValue:null,description:"",name:"negative",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"MouseEventHandler<Element>"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FocusRegion/index.tsx#FocusRegion"]={docgenInfo:FocusRegion.__docgenInfo,name:"FocusRegion",path:"src/FocusRegion/index.tsx#FocusRegion"})}catch(__react_docgen_typescript_loader_error){}},"./src/JsonAtom/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>JsonAtom});__webpack_require__("./node_modules/react/index.js");var nano_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_ClickableJson_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ClickableJson/utils.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const blue=nano_theme__WEBPACK_IMPORTED_MODULE_1__.theme.color.sem.blue[0],JsonAtom=props=>{const{value,onClick}=props,theme=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();let color=theme.g(.2),formatted="∅";if(Array.isArray(value))color=blue,formatted="["+value.length+"]";else if(value instanceof Uint8Array)color=theme.g(.45),formatted=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{children:[[...value].slice(0,128).map((n=>n<16?"0"+n.toString(16):n.toString(16))).join(" "),value.length>128?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{style:{color:theme.g(.3)},children:` … (${value.length-128} more)`}):""]});else if(value&&"object"==typeof value)color=blue,formatted="{"+Object.keys(value).length+"}";else if(color=(0,_ClickableJson_utils__WEBPACK_IMPORTED_MODULE_2__.pG)(!theme.isLight,value)??color,"string"==typeof value){const needsTrim=value.length>256,str=JSON.stringify(needsTrim?value.slice(0,256):value);formatted=needsTrim?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{children:[str.slice(0,-1),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{style:{color:theme.g(.3)},children:` … (${value.length-256} more)`}),'"']}):str}else formatted=String(value);const background=(0,_ClickableJson_utils__WEBPACK_IMPORTED_MODULE_2__.ON)(value),style={color,background};return background&&(style.borderRadius=4,style.margin=-1,style.padding=1),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{style,onClick,children:formatted})};JsonAtom.displayName="JsonAtom";try{JsonAtom.displayName="JsonAtom",JsonAtom.__docgenInfo={description:"",displayName:"JsonAtom",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"unknown"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/JsonAtom/index.tsx#JsonAtom"]={docgenInfo:JsonAtom.__docgenInfo,name:"JsonAtom",path:"src/JsonAtom/index.tsx#JsonAtom"})}catch(__react_docgen_typescript_loader_error){}},"./src/ObjectLayout/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ObjectLayout});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),nano_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/css.ts"),_context_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/context/style.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ObjectLayout=_ref=>{let{property,collapsedView,header,collapsed,comma,brackets=["{","}"],children,onClick,onCollapserClick,onCollapsedClick,onBracketClick}=_ref;const[brackedHovered,setBracketHovered]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),theme=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)(),{noCollapseToggles}=(0,_context_style__WEBPACK_IMPORTED_MODULE_3__.y)(),onBracketMouseEnter=()=>{setBracketHovered(!0)},onBracketMouseLeave=()=>{setBracketHovered(!1)},bracketColor=theme.g(.3);collapsedView=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.Il,style:{display:collapsed?void 0:"none"},onClick:onCollapsedClick,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{style:{color:_css__WEBPACK_IMPORTED_MODULE_2__.iN},children:brackets[0]}),collapsedView,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{style:{color:_css__WEBPACK_IMPORTED_MODULE_2__.iN},children:brackets[1]})]});const bracket1=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[property,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.wk+(brackedHovered?_css__WEBPACK_IMPORTED_MODULE_2__.vx:""),style:{display:collapsed?"none":void 0,color:bracketColor},onMouseEnter:onBracketMouseEnter,onMouseLeave:onBracketMouseLeave,onClick:onBracketClick,children:[brackets[0],!!header&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{style:{display:"inline-block",position:"absolute",top:"-0.27em",left:"1em"},children:header})]})]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.Ry,onClick,children:[!noCollapseToggles&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.B2,style:{color:theme.g(.6)},onClick:onCollapserClick,children:collapsed?"+":"—"}),bracket1,collapsedView,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.pb,style:{display:collapsed?"none":void 0},children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.wk+(brackedHovered?_css__WEBPACK_IMPORTED_MODULE_2__.vx:""),style:{display:collapsed?"none":void 0,color:bracketColor},onMouseEnter:onBracketMouseEnter,onMouseLeave:onBracketMouseLeave,onClick:onBracketClick,children:brackets[1]}),!!comma&&","]})};ObjectLayout.displayName="ObjectLayout";try{ObjectLayout.displayName="ObjectLayout",ObjectLayout.__docgenInfo={description:"",displayName:"ObjectLayout",props:{property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"ReactNode"}},collapsedView:{defaultValue:null,description:"",name:"collapsedView",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},collapsed:{defaultValue:null,description:"",name:"collapsed",required:!1,type:{name:"boolean"}},comma:{defaultValue:null,description:"",name:"comma",required:!1,type:{name:"boolean"}},brackets:{defaultValue:{value:"['{', '}']"},description:"",name:"brackets",required:!1,type:{name:"[opening: string, closing: string]"}},manageCollapse:{defaultValue:null,description:"",name:"manageCollapse",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onCollapserClick:{defaultValue:null,description:"",name:"onCollapserClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onCollapsedClick:{defaultValue:null,description:"",name:"onCollapsedClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onBracketClick:{defaultValue:null,description:"",name:"onBracketClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ObjectLayout/index.tsx#ObjectLayout"]={docgenInfo:ObjectLayout.__docgenInfo,name:"ObjectLayout",path:"src/ObjectLayout/index.tsx#ObjectLayout"})}catch(__react_docgen_typescript_loader_error){}},"./src/Root/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>Root});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_use_lib_useClickAway__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-use/lib/useClickAway.js"),react_use_lib_useMountedState__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-use/lib/useMountedState.js"),_context_style__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/context/style.ts"),_context_focus__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/context/focus.tsx"),_context_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/context/input.tsx"),nano_theme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,nano_theme__WEBPACK_IMPORTED_MODULE_4__.rule)({d:"inline-block",ff:"monospace"}),Root=_ref=>{let{children,onFocus}=_ref;const isMounted=(0,react_use_lib_useMountedState__WEBPACK_IMPORTED_MODULE_6__.Z)(),styles=(0,_context_style__WEBPACK_IMPORTED_MODULE_1__.y)(),{focused,focus,point}=(0,_context_focus__WEBPACK_IMPORTED_MODULE_2__.KK)(),ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),focusRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(focused);return(0,react_use_lib_useClickAway__WEBPACK_IMPORTED_MODULE_7__.Z)(ref,(()=>{isMounted&&(point(null),focus(null))})),onFocus&&focused!==focusRef.current&&(focusRef.current=focused,onFocus(focused)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_context_input__WEBPACK_IMPORTED_MODULE_3__.zJ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{ref,className:blockClass,style:{fontSize:styles.fontSize||"13.4px"},children})})};Root.displayName="Root";try{Root.displayName="Root",Root.__docgenInfo={description:"",displayName:"Root",props:{onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((pointer: string | null) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Root/index.tsx#Root"]={docgenInfo:Root.__docgenInfo,name:"Root",path:"src/Root/index.tsx#Root"})}catch(__react_docgen_typescript_loader_error){}},"./src/buttons/Action/AddAction.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>AddAction});__webpack_require__("./node_modules/react/index.js");var ___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/buttons/Action/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const AddAction=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.a,{...props,children:"+"});AddAction.displayName="AddAction";try{AddAction.displayName="AddAction",AddAction.__docgenInfo={description:"",displayName:"AddAction",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"ReactNode"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/Action/AddAction.tsx#AddAction"]={docgenInfo:AddAction.__docgenInfo,name:"AddAction",path:"src/buttons/Action/AddAction.tsx#AddAction"})}catch(__react_docgen_typescript_loader_error){}},"./src/buttons/Action/CancelAction.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>CancelAction});__webpack_require__("./node_modules/react/index.js");var nano_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/css.ts"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/buttons/Action/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.drule)({w:"20px",h:"20px",pos:"absolute",t:"-11px",l:"-11px",z:2,bdrad:"50%",svg:{fill:_css__WEBPACK_IMPORTED_MODULE_2__.iN}}),CancelAction=props=>{const theme=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,{...props,className:blockClass({"&:hover":{bg:_css__WEBPACK_IMPORTED_MODULE_2__.pd,bd:`1px solid ${_css__WEBPACK_IMPORTED_MODULE_2__.pd}`,svg:{fill:"#fff"}},"&:active":{bg:theme.g(.1),bd:`1px solid ${theme.g(.1)}`}}),children:"×"})};CancelAction.displayName="CancelAction";try{CancelAction.displayName="CancelAction",CancelAction.__docgenInfo={description:"",displayName:"CancelAction",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"ReactNode"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/Action/CancelAction.tsx#CancelAction"]={docgenInfo:CancelAction.__docgenInfo,name:"CancelAction",path:"src/buttons/Action/CancelAction.tsx#CancelAction"})}catch(__react_docgen_typescript_loader_error){}},"./src/buttons/Action/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Action});__webpack_require__("./node_modules/react/index.js");var nano_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/css.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.drule)({pos:"relative",d:"flex",jc:"center",ai:"center",w:"17px",h:"17px",bdrad:"2px",pad:0,mr:0,out:0,ff:"monospace",lh:"16px",cur:"pointer",bd:`1px dotted ${_css__WEBPACK_IMPORTED_MODULE_2__.iN}`,col:_css__WEBPACK_IMPORTED_MODULE_2__.iN,fw:"normal",z:3}),tooltipClass=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.drule)({...nano_theme__WEBPACK_IMPORTED_MODULE_1__.theme.font.ui1,pos:"absolute",d:"none",t:"-2.5em",l:"0px",bg:"rgba(0,0,0,.8)",col:"#fff",fz:12/13.4+"em",pad:".4em .8em",bdrad:".4em",z:3,pe:"none",us:"none",ws:"nowrap",[`.${blockClass.toString().trim()}:hover &`]:{d:"inline-block"}}),Action=_ref=>{let{className="",tooltip,children,onClick,onMouseEnter,onMouseLeave,onMouseOver}=_ref;const theme=(0,nano_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("button",{className:blockClass({bg:theme.bg,"&:hover":{col:theme.bg,bg:_css__WEBPACK_IMPORTED_MODULE_2__.iN},"&:active":{col:theme.g(.9),bg:theme.g(.1),bd:`1px solid ${theme.g(.1)}`}})+className,onClick,onMouseEnter,onMouseLeave,onMouseOver,children:[children,!!tooltip&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:tooltipClass({}),children:tooltip})]})};Action.displayName="Action";try{Action.displayName="Action",Action.__docgenInfo={description:"",displayName:"Action",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"ReactNode"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<Element>"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/Action/index.tsx#Action"]={docgenInfo:Action.__docgenInfo,name:"Action",path:"src/buttons/Action/index.tsx#Action"})}catch(__react_docgen_typescript_loader_error){}},"./src/context/focus.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{KK:()=>useFocus,eQ:()=>FocusProvider,rG:()=>useIsFocused});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const context=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),useFocus=()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(context),useIsFocused=node=>{const{focused}=useFocus();return focused===node},FocusProvider=_ref=>{let{children}=_ref;const[focused,focus]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),[pointed,point]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(context.Provider,{value:{focused,focus,pointed,point},children})};FocusProvider.displayName="FocusProvider";try{useIsFocused.displayName="useIsFocused",useIsFocused.__docgenInfo={description:"",displayName:"useIsFocused",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/context/focus.tsx#useIsFocused"]={docgenInfo:useIsFocused.__docgenInfo,name:"useIsFocused",path:"src/context/focus.tsx#useIsFocused"})}catch(__react_docgen_typescript_loader_error){}try{FocusProvider.displayName="FocusProvider",FocusProvider.__docgenInfo={description:"",displayName:"FocusProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/context/focus.tsx#FocusProvider"]={docgenInfo:FocusProvider.__docgenInfo,name:"FocusProvider",path:"src/context/focus.tsx#FocusProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/context/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gl:()=>useInput,zJ:()=>InputProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const context=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),useInput=()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(context),InputProvider=_ref=>{let{children}=_ref;const parentContext=useInput(),[focused,setFocused]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{if(parentContext)return;const onFocusIn=()=>{setFocused(!!document.activeElement&&"INPUT"===document.activeElement.tagName)};return document.addEventListener("focus",onFocusIn,!0),document.addEventListener("blur",onFocusIn,!0),()=>{document.removeEventListener("focus",onFocusIn),document.removeEventListener("blur",onFocusIn)}}),[]),parentContext?children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(context.Provider,{value:{focused},children})};InputProvider.displayName="InputProvider";try{InputProvider.displayName="InputProvider",InputProvider.__docgenInfo={description:"",displayName:"InputProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/context/input.tsx#InputProvider"]={docgenInfo:InputProvider.__docgenInfo,name:"InputProvider",path:"src/context/input.tsx#InputProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/context/style.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>context,y:()=>useStyles});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const context=react__WEBPACK_IMPORTED_MODULE_0__.createContext({}),useStyles=()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(context)},"./src/css.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B2:()=>collapser,Cb:()=>property,Il:()=>collapsed,Ry:()=>object,SM:()=>ValueColor,Sf:()=>insArrDot,UU:()=>insArrBlock,V0:()=>insArrLine,WQ:()=>lineInner,iN:()=>blue,jN:()=>insArrButton,jv:()=>line,ob:()=>colon,pb:()=>list,pd:()=>negative,qH:()=>input,vx:()=>bracketHovered,wk:()=>bracket});var nano_theme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/nano-theme/lib/index.js");const blue=nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.color.sem.blue[0],negative=nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.color.sem.negative[0],object=((0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({d:"inline-block",ff:"monospace",col:nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.g(.1)}),(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"relative",d:"inline-block"})),ValueColor={nil:[nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.g(0,.4),nano_theme__WEBPACK_IMPORTED_MODULE_0__.darkTheme.g(0,.4)],undef:[nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.g(0,.2),nano_theme__WEBPACK_IMPORTED_MODULE_0__.darkTheme.g(0,.2)],str:["#e00e44","#f01e54"],bool:["#411888","#9168c8"],num:["#0a8F3F","#0FaF4F"],zero:["#748A00","#94AA11"],float:["#016873","#51a8b3"]},property=((0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({col:"#E84D3D"}),(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pad:"0",fw:"bold",bxz:"border-box"})),activeInput={col:nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.g(0),pd:"5px",bg:nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.bg,bd:`1px solid ${nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.g(.7)}`,mr:"-6px",out:0},input=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({z:2,pos:"relative",bd:0,mar:0,pad:0,bg:"transparent",bdrad:"5px",d:"inline-block",minW:"auto",w:"auto","&::selection":{col:"#fff",bgc:blue},input:{out:0}}),colon=((0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)(activeInput),(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pd:"0 8px 0 0px",cur:"default","&>span":{pd:"0 2px"},"&:hover":{"&>span":{out:`1px dotted ${blue}`}}})),list=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({d:"block",listStyleType:"none",pd:0,mr:"0 0 0 32px"}),line=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({d:"block",ls:"none",pd:0,mr:0}),lineInner=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({d:"inline-block"}),bracket=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"relative",cur:"default"}),collapser=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pd:"0 6px",pos:"absolute",t:"0px",l:"-24px",cur:"default",us:"none"}),collapsed=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({col:blue,cur:"default",fw:"bold",bg:nano_theme__WEBPACK_IMPORTED_MODULE_0__.theme.blue(.1),pd:"2px",mr:"-2px",bdrad:"4px"}),bracketHovered=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({out:`1px dotted ${blue}`}),insArrBlock=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"relative",h:"0px",w:"0px"}),insArrDot=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"absolute",t:"0px",l:"-4px",w:"3px",h:"3px",bdrad:"50%",bg:blue,pe:"none",[`.${insArrBlock.trim()}:hover &`]:{top:"-2px",left:"2px",w:"7px",h:"7px"}}),insArrLine=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"absolute",t:"1px",l:"-56px",w:"50px",h:"0px",bdt:`1px dotted ${blue}`,pe:"none",[`.${insArrBlock.trim()}:hover &`]:{l:"-56px",w:"56px",bdt:`1px solid ${blue}`}}),insArrButton=(0,nano_theme__WEBPACK_IMPORTED_MODULE_0__.rule)({pos:"absolute",d:"block",t:"-8px",l:"-75px"})},"./src/inserts/ArrayInsert.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>ArrayInsert});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),use_t__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/use-t/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/css.ts"),_ValueInput__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/inserts/ValueInput.tsx"),_buttons_Action_AddAction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/buttons/Action/AddAction.tsx"),_buttons_Action_CancelAction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/buttons/Action/CancelAction.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ArrayInsert=_ref=>{let{visible,withType,onSubmit}=_ref;const[t]=(0,use_t__WEBPACK_IMPORTED_MODULE_1__.NT)(),[editing,setEditing]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),handleSubmit=(value,type)=>{setEditing(!1),onSubmit(value,type)};return editing?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("span",{style:{position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ValueInput__WEBPACK_IMPORTED_MODULE_3__.K,{focus:!0,withType,visible,onSubmit:handleSubmit,onCancel:()=>setEditing(!1)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_buttons_Action_CancelAction__WEBPACK_IMPORTED_MODULE_5__.H,{onClick:()=>setEditing(!1)})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.UU,style:{display:visible?void 0:"none"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.Sf}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.V0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.jN,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_buttons_Action_AddAction__WEBPACK_IMPORTED_MODULE_4__.O,{tooltip:t("Insert"),onClick:()=>setEditing(!0)})})]})};ArrayInsert.displayName="ArrayInsert";try{ArrayInsert.displayName="ArrayInsert",ArrayInsert.__docgenInfo={description:"",displayName:"ArrayInsert",props:{visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},withType:{defaultValue:null,description:"",name:"withType",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string, type: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/inserts/ArrayInsert.tsx#ArrayInsert"]={docgenInfo:ArrayInsert.__docgenInfo,name:"ArrayInsert",path:"src/inserts/ArrayInsert.tsx#ArrayInsert"})}catch(__react_docgen_typescript_loader_error){}},"./src/inserts/ObjectInsert.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>ObjectInsert});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),use_t__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/use-t/lib/index.js"),_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/css.ts"),nano_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/nano-theme/lib/index.js"),_FlexibleInput__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/FlexibleInput/index.tsx"),_ValueInput__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/inserts/ValueInput.tsx"),_buttons_Action_AddAction__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/buttons/Action/AddAction.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ObjectInsert=_ref=>{let{visible,withType,onSubmit}=_ref;const[t]=(0,use_t__WEBPACK_IMPORTED_MODULE_1__.NT)(),[editing,setEditing]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[property,setProperty]=react__WEBPACK_IMPORTED_MODULE_0__.useState(""),[value,setValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState(""),inputPropertyRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),inputValueRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),theme=(0,nano_theme__WEBPACK_IMPORTED_MODULE_3__.useTheme)(),handleSubmit=(value,type)=>{inputValueRef.current&&inputValueRef.current.blur(),onSubmit(property,value,type),setProperty(""),setValue(""),setEditing(!1)};if(!visible)return null;if(editing){const keyInput=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.Cb+_css__WEBPACK_IMPORTED_MODULE_2__.qH,style:{color:theme.g(.1),background:theme.bg,display:visible?void 0:"none",margin:"-1px 0 -1px -2px",padding:"3px 4px",border:`1px solid ${theme.g(.85)}`,fontWeight:"bold"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_FlexibleInput__WEBPACK_IMPORTED_MODULE_4__.o,{focus:!0,inp:el=>inputPropertyRef.current=el,value:property,onChange:e=>setProperty(e.target.value),onSubmit:()=>{inputValueRef.current&&inputValueRef.current.focus()},onCancel:()=>{property?setProperty(""):value?setValue(""):setEditing(!1)}})}),valueInput=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ValueInput__WEBPACK_IMPORTED_MODULE_5__.K,{inp:el=>inputValueRef.current=el,visible,withType,onSubmit:handleSubmit,onCancel:()=>{inputPropertyRef.current&&inputPropertyRef.current.focus()}});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{style:{display:visible?void 0:"none"},children:[keyInput,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.ob,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{children:":"})}),valueInput]})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.UU,style:{display:visible?void 0:"none"},onClick:()=>setEditing(!0),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.Sf}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.V0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:_css__WEBPACK_IMPORTED_MODULE_2__.jN,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_buttons_Action_AddAction__WEBPACK_IMPORTED_MODULE_6__.O,{tooltip:t("Add key"),onClick:()=>setEditing(!0)})})]})};ObjectInsert.displayName="ObjectInsert";try{ObjectInsert.displayName="ObjectInsert",ObjectInsert.__docgenInfo={description:"",displayName:"ObjectInsert",props:{visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},withType:{defaultValue:null,description:"",name:"withType",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(key: string, value: string, type: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/inserts/ObjectInsert.tsx#ObjectInsert"]={docgenInfo:ObjectInsert.__docgenInfo,name:"ObjectInsert",path:"src/inserts/ObjectInsert.tsx#ObjectInsert"})}catch(__react_docgen_typescript_loader_error){}},"./src/inserts/ValueInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>ValueInput});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js"),css=__webpack_require__("./src/css.ts"),utils=__webpack_require__("./src/ClickableJson/utils.tsx"),FlexibleInput=__webpack_require__("./src/FlexibleInput/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,lib.drule)({...lib.theme.font.mono,fz:"10px",lh:"9px",col:lib.theme.color.sem.blue[0],d:"inline-block",pd:"2px 2px",mr:"0",bxz:"border-box",bd:0,bdrad:"1em"}),TypeSwitch=react.memo((_ref=>{let{value,onKeyDown,onClick}=_ref;const theme=(0,lib.useTheme)();return(0,jsx_runtime.jsx)("button",{className:blockClass({bg:theme.g(.96),"&:hover":{bg:theme.g(.88)}}),onClick,onKeyDown,children:value})}));try{TypeSwitch.displayName="TypeSwitch",TypeSwitch.__docgenInfo={description:"",displayName:"TypeSwitch",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ReactNode"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/TypeSwitch/index.tsx#TypeSwitch"]={docgenInfo:TypeSwitch.__docgenInfo,name:"TypeSwitch",path:"src/buttons/TypeSwitch/index.tsx#TypeSwitch"})}catch(__react_docgen_typescript_loader_error){}const CrdtTypeSwitch=_ref=>{let{types=["any","con","vec","val"],type,onSubmit,onClick}=_ref;const[typeIndex,setTypeIndex]=react.useState(types.findIndex((t=>t===type.current)));react.useLayoutEffect((()=>{type.current=types[typeIndex]}),[]);const onNext=()=>{setTypeIndex((n=>{const index=(n+1)%types.length;return type.current=types[index],index}))};return(0,jsx_runtime.jsx)("span",{style:{display:"inline-block",padding:"0 4px 0 0",margin:"-1px 0"},children:(0,jsx_runtime.jsx)(TypeSwitch,{value:types[typeIndex],onClick:e=>{onNext(),onClick&&onClick(e)},onKeyDown:e=>{switch(e.key){case"ArrowDown":case"ArrowRight":e.preventDefault(),onNext();break;case"ArrowUp":case"ArrowLeft":e.preventDefault(),setTypeIndex((n=>{const index=(n-1+types.length)%types.length;return type.current=types[index],index}));break;case"Enter":e.preventDefault(),onSubmit&&(e.preventDefault(),onSubmit())}}})})};CrdtTypeSwitch.displayName="CrdtTypeSwitch";try{CrdtTypeSwitch.displayName="CrdtTypeSwitch",CrdtTypeSwitch.__docgenInfo={description:"",displayName:"CrdtTypeSwitch",props:{types:{defaultValue:{value:"['any', 'con', 'vec', 'val'] as const"},description:"",name:"types",required:!1,type:{name:"string[]"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"RefObject<string>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"(() => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/buttons/CrdtTypeSwitch/index.tsx#CrdtTypeSwitch"]={docgenInfo:CrdtTypeSwitch.__docgenInfo,name:"CrdtTypeSwitch",path:"src/buttons/CrdtTypeSwitch/index.tsx#CrdtTypeSwitch"})}catch(__react_docgen_typescript_loader_error){}const ValueInput=_ref=>{let{inp,focus,visible,types=["any","con","val","vec"],withType,onSubmit,onCancel}=_ref;const[value,setValue]=react.useState(""),inputRef=react.useRef(null),theme=(0,lib.useTheme)(),type=react.useRef(types&&types.length?types[0]:""),handleSubmit=()=>{inputRef.current&&inputRef.current.blur(),setValue(""),onSubmit(value,type.current)},style=(0,utils.hG)(theme,!theme.isLight,value);style.display=visible?void 0:"none",style.margin="-1px 0 -1px -2px",style.padding="3px 4px",style.border=`1px solid ${theme.g(.85)}`;let beforeValue=null;return types&&types.length&&withType&&(beforeValue=(0,jsx_runtime.jsx)(CrdtTypeSwitch,{type,onSubmit:handleSubmit,onClick:()=>{inputRef.current&&inputRef.current.focus()}})),(0,jsx_runtime.jsxs)("span",{className:css.qH,style,children:[beforeValue,(0,jsx_runtime.jsx)(FlexibleInput.o,{focus,inp:el=>{inputRef.current=el,inp&&inp(el)},value,typeahead:(0,utils.fo)(value),onChange:e=>setValue(e.target.value),onSubmit:handleSubmit,onCancel:e=>{setValue(""),onCancel&&onCancel(e)},onTab:e=>{const ahead=(0,utils.fo)(value);ahead&&(e.preventDefault(),setValue(value+ahead))}})]})};ValueInput.displayName="ValueInput";try{ValueInput.displayName="ValueInput",ValueInput.__docgenInfo={description:"",displayName:"ValueInput",props:{inp:{defaultValue:null,description:"",name:"inp",required:!1,type:{name:"((el: HTMLInputElement | null) => void)"}},focus:{defaultValue:null,description:"",name:"focus",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},types:{defaultValue:{value:"['any', 'con', 'val', 'vec']"},description:"",name:"types",required:!1,type:{name:"string[]"}},withType:{defaultValue:null,description:"",name:"withType",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string, type: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/inserts/ValueInput.tsx#ValueInput"]={docgenInfo:ValueInput.__docgenInfo,name:"ValueInput",path:"src/inserts/ValueInput.tsx#ValueInput"})}catch(__react_docgen_typescript_loader_error){}}}]);