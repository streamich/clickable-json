"use strict";(self.webpackChunkclickable_json=self.webpackChunkclickable_json||[]).push([[312],{"./node_modules/json-joy/lib/json-clone/clone.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.clone=void 0;const{isArray}=Array,objectKeys=Object.keys;exports.clone=obj=>{if(!obj)return obj;if(isArray(obj)){const arr=[],length=obj.length;for(let i=0;i<length;i++)arr.push((0,exports.clone)(obj[i]));return arr}if("object"==typeof obj){const keys=objectKeys(obj),length=keys.length,newObject={};for(let i=0;i<length;i++){const key=keys[i];newObject[key]=(0,exports.clone)(obj[key])}return newObject}return obj}},"./node_modules/json-joy/lib/json-patch/applyPatch/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/tslib/tslib.es6.mjs").__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/applyPatch/v4.js"),exports)},"./node_modules/json-joy/lib/json-patch/applyPatch/v4.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyPatch=exports.applyOps=exports.applyOp=void 0;const clone_1=__webpack_require__("./node_modules/json-joy/lib/json-clone/clone.js"),json_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/codec/json/index.js");exports.applyOp=function applyOp(doc,op,mutate){return mutate||(doc=(0,clone_1.clone)(doc)),op.apply(doc)},exports.applyOps=function applyOps(doc,ops,mutate){mutate||(doc=(0,clone_1.clone)(doc));const res=[],length=ops.length;for(let i=0;i<length;i++){const opResult=ops[i].apply(doc);doc=opResult.doc,res.push(opResult)}return{doc,res}},exports.applyPatch=function applyPatch(doc,patch,options){options.mutate||(doc=(0,clone_1.clone)(doc));const res=[],length=patch.length;for(let i=0;i<length;i++){const opResult=(0,json_1.operationToOp)(patch[i],options).apply(doc);doc=opResult.doc,res.push(opResult)}return{doc,res}}},"./node_modules/json-joy/lib/json-patch/codec/json/decode.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.operationToPredicateOp=exports.operationToOp=void 0;const OpAdd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAdd.js"),OpRemove_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpRemove.js"),OpReplace_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpReplace.js"),OpMove_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMove.js"),OpCopy_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpCopy.js"),OpTest_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTest.js"),OpFlip_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpFlip.js"),OpInc_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpInc.js"),OpStrIns_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStrIns.js"),OpStrDel_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStrDel.js"),OpSplit_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpSplit.js"),OpMerge_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMerge.js"),OpExtend_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpExtend.js"),OpDefined_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpDefined.js"),OpUndefined_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpUndefined.js"),OpTestType_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestType.js"),OpTestString_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestString.js"),OpTestStringLen_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestStringLen.js"),OpContains_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpContains.js"),OpEnds_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpEnds.js"),OpStarts_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStarts.js"),OpIn_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpIn.js"),OpLess_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpLess.js"),OpMore_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMore.js"),OpAnd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAnd.js"),OpOr_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpOr.js"),OpNot_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpNot.js"),OpMatches_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMatches.js"),OpType_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpType.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),util_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/util.js");exports.operationToOp=(op,options)=>{switch(op.op){case"add":return new OpAdd_1.OpAdd((0,json_pointer_1.toPath)(op.path),op.value);case"remove":return new OpRemove_1.OpRemove((0,json_pointer_1.toPath)(op.path),op.oldValue);case"replace":return new OpReplace_1.OpReplace((0,json_pointer_1.toPath)(op.path),op.value,op.oldValue);case"move":return new OpMove_1.OpMove((0,json_pointer_1.toPath)(op.path),(0,json_pointer_1.toPath)(op.from));case"copy":return new OpCopy_1.OpCopy((0,json_pointer_1.toPath)(op.path),(0,json_pointer_1.toPath)(op.from));case"flip":return new OpFlip_1.OpFlip((0,json_pointer_1.toPath)(op.path));case"inc":return new OpInc_1.OpInc((0,json_pointer_1.toPath)(op.path),op.inc);case"str_ins":return new OpStrIns_1.OpStrIns((0,json_pointer_1.toPath)(op.path),op.pos,op.str);case"str_del":return new OpStrDel_1.OpStrDel((0,json_pointer_1.toPath)(op.path),op.pos,op.str,op.len);case"split":return new OpSplit_1.OpSplit((0,json_pointer_1.toPath)(op.path),op.pos,op.props||null);case"merge":return new OpMerge_1.OpMerge((0,json_pointer_1.toPath)(op.path),op.pos,op.props||null);case"extend":return new OpExtend_1.OpExtend((0,json_pointer_1.toPath)(op.path),op.props,!!op.deleteNull);default:return(0,exports.operationToPredicateOp)(op,options)}};exports.operationToPredicateOp=(op,options)=>{switch(op.op){case"test":return new OpTest_1.OpTest((0,json_pointer_1.toPath)(op.path),op.value,!!op.not);case"defined":return new OpDefined_1.OpDefined((0,json_pointer_1.toPath)(op.path));case"undefined":return new OpUndefined_1.OpUndefined((0,json_pointer_1.toPath)(op.path));case"type":return new OpType_1.OpType((0,json_pointer_1.toPath)(op.path),op.value);case"test_type":return new OpTestType_1.OpTestType((0,json_pointer_1.toPath)(op.path),op.type);case"test_string":return new OpTestString_1.OpTestString((0,json_pointer_1.toPath)(op.path),op.pos,op.str,!!op.not);case"test_string_len":return new OpTestStringLen_1.OpTestStringLen((0,json_pointer_1.toPath)(op.path),op.len,!!op.not);case"contains":return new OpContains_1.OpContains((0,json_pointer_1.toPath)(op.path),op.value,!!op.ignore_case);case"ends":return new OpEnds_1.OpEnds((0,json_pointer_1.toPath)(op.path),op.value,!!op.ignore_case);case"starts":return new OpStarts_1.OpStarts((0,json_pointer_1.toPath)(op.path),op.value,!!op.ignore_case);case"matches":return new OpMatches_1.OpMatches((0,json_pointer_1.toPath)(op.path),op.value,!!op.ignore_case,options.createMatcher||util_1.createMatcherDefault);case"in":return new OpIn_1.OpIn((0,json_pointer_1.toPath)(op.path),op.value);case"less":return new OpLess_1.OpLess((0,json_pointer_1.toPath)(op.path),op.value);case"more":return new OpMore_1.OpMore((0,json_pointer_1.toPath)(op.path),op.value);case"and":{const path=(0,json_pointer_1.toPath)(op.path);return new OpAnd_1.OpAnd(path,op.apply.map(x=>(0,exports.operationToPredicateOp)({...x,path:[...path,...(0,json_pointer_1.toPath)(x.path)]},options)))}case"or":{const path=(0,json_pointer_1.toPath)(op.path);return new OpOr_1.OpOr(path,op.apply.map(x=>(0,exports.operationToPredicateOp)({...x,path:[...path,...(0,json_pointer_1.toPath)(x.path)]},options)))}case"not":{const path=(0,json_pointer_1.toPath)(op.path);return new OpNot_1.OpNot(path,op.apply.map(x=>(0,exports.operationToPredicateOp)({...x,path:[...path,...(0,json_pointer_1.toPath)(x.path)]},options)))}default:throw new Error("OP_UNKNOWN")}},exports.decode=function decode(patch,options){const ops=[],length=patch.length;for(let i=0;i<length;i++){const op=(0,exports.operationToOp)(patch[i],options);ops.push(op)}return ops}},"./node_modules/json-joy/lib/json-patch/codec/json/encode.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=void 0,exports.encode=function encode(ops){const operations=[],length=ops.length;for(let i=0;i<length;i++)operations.push(ops[i].toJson());return operations}},"./node_modules/json-joy/lib/json-patch/codec/json/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/codec/json/decode.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/codec/json/encode.js"),exports)},"./node_modules/json-joy/lib/json-patch/codec/json/types.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/json-joy/lib/json-patch/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpExtend=exports.OpMerge=exports.OpSplit=exports.OpStrDel=exports.OpStrIns=exports.OpInc=exports.OpFlip=exports.OpCopy=exports.OpMove=exports.OpReplace=exports.OpRemove=exports.OpAdd=exports.OpType=exports.OpMatches=exports.OpNot=exports.OpOr=exports.OpAnd=exports.OpMore=exports.OpLess=exports.OpIn=exports.OpStarts=exports.OpEnds=exports.OpContains=exports.OpTestStringLen=exports.OpTestString=exports.OpTestType=exports.OpUndefined=exports.OpDefined=exports.OpTest=void 0;const tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/opcodes.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/types.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/applyPatch/index.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/validate.js"),exports);var op_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/index.js");Object.defineProperty(exports,"OpTest",{enumerable:!0,get:function(){return op_1.OpTest}}),Object.defineProperty(exports,"OpDefined",{enumerable:!0,get:function(){return op_1.OpDefined}}),Object.defineProperty(exports,"OpUndefined",{enumerable:!0,get:function(){return op_1.OpUndefined}}),Object.defineProperty(exports,"OpTestType",{enumerable:!0,get:function(){return op_1.OpTestType}}),Object.defineProperty(exports,"OpTestString",{enumerable:!0,get:function(){return op_1.OpTestString}}),Object.defineProperty(exports,"OpTestStringLen",{enumerable:!0,get:function(){return op_1.OpTestStringLen}}),Object.defineProperty(exports,"OpContains",{enumerable:!0,get:function(){return op_1.OpContains}}),Object.defineProperty(exports,"OpEnds",{enumerable:!0,get:function(){return op_1.OpEnds}}),Object.defineProperty(exports,"OpStarts",{enumerable:!0,get:function(){return op_1.OpStarts}}),Object.defineProperty(exports,"OpIn",{enumerable:!0,get:function(){return op_1.OpIn}}),Object.defineProperty(exports,"OpLess",{enumerable:!0,get:function(){return op_1.OpLess}}),Object.defineProperty(exports,"OpMore",{enumerable:!0,get:function(){return op_1.OpMore}}),Object.defineProperty(exports,"OpAnd",{enumerable:!0,get:function(){return op_1.OpAnd}}),Object.defineProperty(exports,"OpOr",{enumerable:!0,get:function(){return op_1.OpOr}}),Object.defineProperty(exports,"OpNot",{enumerable:!0,get:function(){return op_1.OpNot}}),Object.defineProperty(exports,"OpMatches",{enumerable:!0,get:function(){return op_1.OpMatches}}),Object.defineProperty(exports,"OpType",{enumerable:!0,get:function(){return op_1.OpType}}),Object.defineProperty(exports,"OpAdd",{enumerable:!0,get:function(){return op_1.OpAdd}}),Object.defineProperty(exports,"OpRemove",{enumerable:!0,get:function(){return op_1.OpRemove}}),Object.defineProperty(exports,"OpReplace",{enumerable:!0,get:function(){return op_1.OpReplace}}),Object.defineProperty(exports,"OpMove",{enumerable:!0,get:function(){return op_1.OpMove}}),Object.defineProperty(exports,"OpCopy",{enumerable:!0,get:function(){return op_1.OpCopy}}),Object.defineProperty(exports,"OpFlip",{enumerable:!0,get:function(){return op_1.OpFlip}}),Object.defineProperty(exports,"OpInc",{enumerable:!0,get:function(){return op_1.OpInc}}),Object.defineProperty(exports,"OpStrIns",{enumerable:!0,get:function(){return op_1.OpStrIns}}),Object.defineProperty(exports,"OpStrDel",{enumerable:!0,get:function(){return op_1.OpStrDel}}),Object.defineProperty(exports,"OpSplit",{enumerable:!0,get:function(){return op_1.OpSplit}}),Object.defineProperty(exports,"OpMerge",{enumerable:!0,get:function(){return op_1.OpMerge}}),Object.defineProperty(exports,"OpExtend",{enumerable:!0,get:function(){return op_1.OpExtend}})},"./node_modules/json-joy/lib/json-patch/op/AbstractOp.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractOp=void 0;exports.AbstractOp=class AbstractOp{constructor(path){this.path=path}}},"./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractPredicateOp=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js");class AbstractPredicateOp extends AbstractOp_1.AbstractOp{apply(doc){if(!this.test(doc))throw new Error("TEST");return{doc}}}exports.AbstractPredicateOp=AbstractPredicateOp},"./node_modules/json-joy/lib/json-patch/op/AbstractSecondOrderPredicateOp.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractSecondOrderPredicateOp=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js");class AbstractSecondOrderPredicateOp extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,ops){super(path),this.ops=ops}}exports.AbstractSecondOrderPredicateOp=AbstractSecondOrderPredicateOp},"./node_modules/json-joy/lib/json-patch/op/Op.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpExtend=exports.OpMerge=exports.OpSplit=exports.OpStrDel=exports.OpStrIns=exports.OpInc=exports.OpFlip=exports.OpCopy=exports.OpMove=exports.OpReplace=exports.OpRemove=exports.OpAdd=exports.OpType=exports.OpMatches=exports.OpNot=exports.OpOr=exports.OpAnd=exports.OpMore=exports.OpLess=exports.OpIn=exports.OpStarts=exports.OpEnds=exports.OpContains=exports.OpTestStringLen=exports.OpTestString=exports.OpTestType=exports.OpUndefined=exports.OpDefined=exports.OpTest=exports.AbstractPredicateOp=void 0;const OpAdd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAdd.js");Object.defineProperty(exports,"OpAdd",{enumerable:!0,get:function(){return OpAdd_1.OpAdd}});const OpRemove_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpRemove.js");Object.defineProperty(exports,"OpRemove",{enumerable:!0,get:function(){return OpRemove_1.OpRemove}});const OpReplace_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpReplace.js");Object.defineProperty(exports,"OpReplace",{enumerable:!0,get:function(){return OpReplace_1.OpReplace}});const OpMove_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMove.js");Object.defineProperty(exports,"OpMove",{enumerable:!0,get:function(){return OpMove_1.OpMove}});const OpCopy_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpCopy.js");Object.defineProperty(exports,"OpCopy",{enumerable:!0,get:function(){return OpCopy_1.OpCopy}});const OpTest_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTest.js");Object.defineProperty(exports,"OpTest",{enumerable:!0,get:function(){return OpTest_1.OpTest}});const OpFlip_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpFlip.js");Object.defineProperty(exports,"OpFlip",{enumerable:!0,get:function(){return OpFlip_1.OpFlip}});const OpInc_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpInc.js");Object.defineProperty(exports,"OpInc",{enumerable:!0,get:function(){return OpInc_1.OpInc}});const OpStrIns_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStrIns.js");Object.defineProperty(exports,"OpStrIns",{enumerable:!0,get:function(){return OpStrIns_1.OpStrIns}});const OpStrDel_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStrDel.js");Object.defineProperty(exports,"OpStrDel",{enumerable:!0,get:function(){return OpStrDel_1.OpStrDel}});const OpSplit_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpSplit.js");Object.defineProperty(exports,"OpSplit",{enumerable:!0,get:function(){return OpSplit_1.OpSplit}});const OpMerge_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMerge.js");Object.defineProperty(exports,"OpMerge",{enumerable:!0,get:function(){return OpMerge_1.OpMerge}});const OpExtend_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpExtend.js");Object.defineProperty(exports,"OpExtend",{enumerable:!0,get:function(){return OpExtend_1.OpExtend}});const OpDefined_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpDefined.js");Object.defineProperty(exports,"OpDefined",{enumerable:!0,get:function(){return OpDefined_1.OpDefined}});const OpUndefined_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpUndefined.js");Object.defineProperty(exports,"OpUndefined",{enumerable:!0,get:function(){return OpUndefined_1.OpUndefined}});const OpTestType_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestType.js");Object.defineProperty(exports,"OpTestType",{enumerable:!0,get:function(){return OpTestType_1.OpTestType}});const OpTestString_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestString.js");Object.defineProperty(exports,"OpTestString",{enumerable:!0,get:function(){return OpTestString_1.OpTestString}});const OpTestStringLen_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpTestStringLen.js");Object.defineProperty(exports,"OpTestStringLen",{enumerable:!0,get:function(){return OpTestStringLen_1.OpTestStringLen}});const OpContains_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpContains.js");Object.defineProperty(exports,"OpContains",{enumerable:!0,get:function(){return OpContains_1.OpContains}});const OpEnds_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpEnds.js");Object.defineProperty(exports,"OpEnds",{enumerable:!0,get:function(){return OpEnds_1.OpEnds}});const OpStarts_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpStarts.js");Object.defineProperty(exports,"OpStarts",{enumerable:!0,get:function(){return OpStarts_1.OpStarts}});const OpIn_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpIn.js");Object.defineProperty(exports,"OpIn",{enumerable:!0,get:function(){return OpIn_1.OpIn}});const OpLess_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpLess.js");Object.defineProperty(exports,"OpLess",{enumerable:!0,get:function(){return OpLess_1.OpLess}});const OpMore_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMore.js");Object.defineProperty(exports,"OpMore",{enumerable:!0,get:function(){return OpMore_1.OpMore}});const OpAnd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAnd.js");Object.defineProperty(exports,"OpAnd",{enumerable:!0,get:function(){return OpAnd_1.OpAnd}});const OpOr_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpOr.js");Object.defineProperty(exports,"OpOr",{enumerable:!0,get:function(){return OpOr_1.OpOr}});const OpNot_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpNot.js");Object.defineProperty(exports,"OpNot",{enumerable:!0,get:function(){return OpNot_1.OpNot}});const OpMatches_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpMatches.js");Object.defineProperty(exports,"OpMatches",{enumerable:!0,get:function(){return OpMatches_1.OpMatches}});const OpType_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpType.js");Object.defineProperty(exports,"OpType",{enumerable:!0,get:function(){return OpType_1.OpType}});var AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js");Object.defineProperty(exports,"AbstractPredicateOp",{enumerable:!0,get:function(){return AbstractPredicateOp_1.AbstractPredicateOp}})},"./node_modules/json-joy/lib/json-patch/op/OpAdd.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpAdd=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),clone_1=__webpack_require__("./node_modules/json-joy/lib/json-clone/clone.js");class OpAdd extends AbstractOp_1.AbstractOp{constructor(path,value){super(path),this.value=value}op(){return"add"}code(){return 0}apply(doc){const{val,key,obj}=(0,json_pointer_1.find)(doc,this.path),value=(0,clone_1.clone)(this.value);if(obj)if("string"==typeof key)obj[key]=value;else{const length=obj.length;if(key<length)obj.splice(key,0,value);else{if(key>length)throw new Error("INVALID_INDEX");obj.push(value)}}else doc=value;return{doc,old:val}}toJson(parent){return{op:"add",path:(0,json_pointer_1.formatJsonPointer)(this.path),value:this.value}}toCompact(parent,verbose){return[verbose?"add":0,this.path,this.value]}encode(encoder){encoder.encodeArrayHeader(3),encoder.writer.u8(0),encoder.encodeArray(this.path),encoder.encodeAny(this.value)}}exports.OpAdd=OpAdd},"./node_modules/json-joy/lib/json-patch/op/OpAnd.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpAnd=void 0;const AbstractSecondOrderPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractSecondOrderPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpAnd extends AbstractSecondOrderPredicateOp_1.AbstractSecondOrderPredicateOp{constructor(path,ops){super(path,ops),this.ops=ops}op(){return"and"}code(){return 43}test(doc){for(const op of this.ops)if(!op.test(doc))return!1;return!0}toJson(parent){return{op:"and",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),apply:this.ops.map(op=>op.toJson(this))}}toCompact(parent,verbose){return[verbose?"and":43,parent?this.path.slice(parent.path.length):this.path,this.ops.map(op=>op.toCompact(this,verbose))]}encode(encoder,parent){const path=parent?this.path.slice(parent.path.length):this.path;encoder.encodeArrayHeader(3),encoder.writer.u8(43),encoder.encodeArray(path);const length=this.ops.length;encoder.encodeArrayHeader(length);for(let i=0;i<length;i++)this.ops[i].encode(encoder,this)}}exports.OpAnd=OpAnd},"./node_modules/json-joy/lib/json-patch/op/OpContains.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpContains=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpContains extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value,ignore_case){super(path),this.value=value,this.ignore_case=ignore_case}op(){return"contains"}code(){return 30}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;const testValue=this.ignore_case?val.toLowerCase():val,testString=this.ignore_case?this.value.toLowerCase():this.value;return testValue.indexOf(testString)>-1}toJson(parent){const op={op:"contains",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value};return this.ignore_case&&(op.ignore_case=this.ignore_case),op}toCompact(parent,verbose){const opcode=verbose?"contains":30;return this.ignore_case?[opcode,parent?this.path.slice(parent.path.length):this.path,this.value,1]:[opcode,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){const ignoreCase=this.ignore_case;encoder.encodeArrayHeader(ignoreCase?4:3),encoder.writer.u8(30),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeString(this.value),ignoreCase&&encoder.writer.u8(1)}}exports.OpContains=OpContains},"./node_modules/json-joy/lib/json-patch/op/OpCopy.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpCopy=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),OpAdd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAdd.js"),clone_1=__webpack_require__("./node_modules/json-joy/lib/json-clone/clone.js");class OpCopy extends AbstractOp_1.AbstractOp{constructor(path,from){super(path),this.from=from}op(){return"copy"}code(){return 3}apply(doc){const{val}=(0,json_pointer_1.find)(doc,this.from);if(void 0===val)throw new Error("NOT_FOUND");return new OpAdd_1.OpAdd(this.path,(0,clone_1.clone)(val)).apply(doc)}toJson(parent){return{op:"copy",path:(0,json_pointer_1.formatJsonPointer)(this.path),from:(0,json_pointer_1.formatJsonPointer)(this.from)}}toCompact(parent,verbose){return[verbose?"copy":3,this.path,this.from]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(3),encoder.encodeArray(this.path),encoder.encodeArray(this.from)}}exports.OpCopy=OpCopy},"./node_modules/json-joy/lib/json-patch/op/OpDefined.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpDefined=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpDefined extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path){super(path)}op(){return"defined"}code(){return 31}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);return void 0!==val}toJson(parent){return{op:"defined",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path)}}toCompact(parent,verbose){return[verbose?"defined":31,parent?this.path.slice(parent.path.length):this.path]}encode(encoder,parent){encoder.encodeArrayHeader(2),encoder.writer.u8(31),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path)}}exports.OpDefined=OpDefined},"./node_modules/json-joy/lib/json-patch/op/OpEnds.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpEnds=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpEnds extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value,ignore_case){super(path),this.value=value,this.ignore_case=ignore_case}op(){return"ends"}code(){return 32}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;const outer=this.ignore_case?val.toLowerCase():val,inner=this.ignore_case?this.value.toLowerCase():this.value;return outer.endsWith(inner)}toJson(parent){const op={op:"ends",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value};return this.ignore_case&&(op.ignore_case=this.ignore_case),op}toCompact(parent,verbose){const opcode=verbose?"ends":32;return this.ignore_case?[opcode,parent?this.path.slice(parent.path.length):this.path,this.value,1]:[opcode,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){const ignoreCase=this.ignore_case;encoder.encodeArrayHeader(ignoreCase?4:3),encoder.writer.u8(32),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeString(this.value),ignoreCase&&encoder.writer.u8(1)}}exports.OpEnds=OpEnds},"./node_modules/json-joy/lib/json-patch/op/OpExtend.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpExtend=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),{isArray}=Array;class OpExtend extends AbstractOp_1.AbstractOp{constructor(path,props,deleteNull){super(path),this.props=props,this.deleteNull=deleteNull}op(){return"extend"}code(){return 12}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);return(0,json_pointer_1.isArrayReference)(ref)?void 0!==ref.val&&(ref.obj[ref.key]=this.extend(ref.val)):(0,json_pointer_1.isObjectReference)(ref)?ref.obj[ref.key]=this.extend(ref.val):doc=this.extend(doc),{doc}}extend(value){if(isArray(value))return value;if("object"!=typeof value)return value;if(!value)return value;for(const[key,v]of Object.entries(this.props)){if("__proto__"===key)throw new Error("NO_PROTO");null===v&&this.deleteNull?delete value[key]:value[key]=v}return value}toJson(parent){const op={op:"extend",path:(0,json_pointer_1.formatJsonPointer)(this.path),props:this.props};return this.deleteNull&&(op.deleteNull=this.deleteNull),op}toCompact(parent,verbose){const opcode=verbose?"extend":12;return this.deleteNull?[opcode,this.path,this.props,1]:[opcode,this.path,this.props]}encode(encoder,parent){const{deleteNull}=this;encoder.encodeArrayHeader(deleteNull?4:3),encoder.writer.u8(12),encoder.encodeArray(this.path),encoder.encodeObject(this.props),deleteNull&&encoder.writer.u8(1)}}exports.OpExtend=OpExtend},"./node_modules/json-joy/lib/json-patch/op/OpFlip.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpFlip=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpFlip extends AbstractOp_1.AbstractOp{constructor(path){super(path)}op(){return"flip"}code(){return 8}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);return ref.obj?ref.obj[ref.key]=!ref.val:doc=!ref.val,{doc,old:ref.val}}toJson(parent){return{op:"flip",path:(0,json_pointer_1.formatJsonPointer)(this.path)}}toCompact(parent,verbose){return[verbose?"flip":8,this.path]}encode(encoder,parent){encoder.encodeArrayHeader(2),encoder.writer.u8(8),encoder.encodeArray(this.path)}}exports.OpFlip=OpFlip},"./node_modules/json-joy/lib/json-patch/op/OpIn.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpIn=void 0;const json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),deepEqual_1=__webpack_require__("./node_modules/json-joy/lib/json-equal/deepEqual/index.js");class OpIn extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value){super(path),this.value=value}op(){return"in"}code(){return 33}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);for(const x of this.value)if((0,deepEqual_1.deepEqual)(val,x))return!0;return!1}toJson(parent){return{op:"in",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value}}toCompact(parent,verbose){return[verbose?"in":33,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(33),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeArray(this.value)}}exports.OpIn=OpIn},"./node_modules/json-joy/lib/json-patch/op/OpInc.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpInc=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpInc extends AbstractOp_1.AbstractOp{constructor(path,inc){super(path),this.inc=inc}op(){return"inc"}code(){return 9}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path),result=this.inc+Number(ref.val);return ref.obj?ref.obj[ref.key]=result:doc=result,{doc,old:ref.val}}toJson(parent){return{op:"inc",path:(0,json_pointer_1.formatJsonPointer)(this.path),inc:this.inc}}toCompact(parent,verbose){return[verbose?"inc":9,this.path,this.inc]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(9),encoder.encodeArray(this.path),encoder.encodeNumber(this.inc)}}exports.OpInc=OpInc},"./node_modules/json-joy/lib/json-patch/op/OpLess.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpLess=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpLess extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value){super(path),this.value=value}op(){return"less"}code(){return 34}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("number"!=typeof val)return!1;return val<this.value}toJson(parent){return{op:"less",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value}}toCompact(parent,verbose){return[verbose?"less":34,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(34),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeNumber(this.value)}}exports.OpLess=OpLess},"./node_modules/json-joy/lib/json-patch/op/OpMatches.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpMatches=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpMatches extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value,ignore_case,createMatcher){super(path),this.value=value,this.ignore_case=ignore_case,this.matcher=createMatcher(value,ignore_case)}op(){return"matches"}code(){return 35}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;return this.matcher(val)}toJson(parent){const op={op:"matches",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value};return this.ignore_case&&(op.ignore_case=this.ignore_case),op}toCompact(parent,verbose){const opcode=verbose?"matches":35;return this.ignore_case?[opcode,parent?this.path.slice(parent.path.length):this.path,this.value,1]:[opcode,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){const ignoreCase=this.ignore_case;encoder.encodeArrayHeader(ignoreCase?4:3),encoder.writer.u8(35),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeString(this.value),ignoreCase&&encoder.writer.u8(1)}}exports.OpMatches=OpMatches},"./node_modules/json-joy/lib/json-patch/op/OpMerge.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpMerge=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),util_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/util.js");class OpMerge extends AbstractOp_1.AbstractOp{constructor(path,pos,props){super(path),this.pos=pos,this.props=props}op(){return"merge"}code(){return 11}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);if(!(0,json_pointer_1.isArrayReference)(ref))throw new Error("INVALID_TARGET");if(ref.key<=0)throw new Error("INVALID_KEY");const one=ref.obj[ref.key-1],two=ref.obj[ref.key],merged=this.merge(one,two);return ref.obj[ref.key-1]=merged,ref.obj.splice(ref.key,1),{doc,old:[one,two]}}merge(one,two){return"string"==typeof one&&"string"==typeof two||"number"==typeof one&&"number"==typeof two?one+two:(0,util_1.isTextNode)(one)&&(0,util_1.isTextNode)(two)?{...one,...two,text:one.text+two.text}:(0,util_1.isElementNode)(one)&&(0,util_1.isElementNode)(two)?{...one,...two,children:[...one.children,...two.children]}:[one,two]}toJson(parent){const op={op:"merge",path:(0,json_pointer_1.formatJsonPointer)(this.path),pos:this.pos};return this.props&&(op.props=this.props),op}toCompact(parent,verbose){const opcode=verbose?"merge":11;return this.props?[opcode,this.path,this.pos,this.props]:[opcode,this.path,this.pos]}encode(encoder,parent){encoder.encodeArrayHeader(this.props?4:3),encoder.writer.u8(11),encoder.encodeArray(this.path),encoder.encodeNumber(this.pos),this.props&&encoder.encodeAny(this.props)}}exports.OpMerge=OpMerge},"./node_modules/json-joy/lib/json-patch/op/OpMore.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpMore=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpMore extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value){super(path),this.value=value}op(){return"more"}code(){return 36}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("number"!=typeof val)return!1;return val>this.value}toJson(parent){return{op:"more",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value}}toCompact(parent,verbose){return[verbose?"more":36,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(36),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeNumber(this.value)}}exports.OpMore=OpMore},"./node_modules/json-joy/lib/json-patch/op/OpMove.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpMove=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),OpRemove_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpRemove.js"),OpAdd_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/OpAdd.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpMove extends AbstractOp_1.AbstractOp{constructor(path,from){super(path),this.from=from}op(){return"move"}code(){return 4}apply(doc){const remove=new OpRemove_1.OpRemove((0,json_pointer_1.toPath)(this.from),void 0).apply(doc);return new OpAdd_1.OpAdd(this.path,remove.old).apply(remove.doc)}toJson(parent){return{op:"move",path:(0,json_pointer_1.formatJsonPointer)(this.path),from:(0,json_pointer_1.formatJsonPointer)(this.from)}}toCompact(parent,verbose){return[verbose?"move":4,this.path,this.from]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(4),encoder.encodeArray(this.path),encoder.encodeArray(this.from)}}exports.OpMove=OpMove},"./node_modules/json-joy/lib/json-patch/op/OpNot.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpNot=void 0;const AbstractSecondOrderPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractSecondOrderPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpNot extends AbstractSecondOrderPredicateOp_1.AbstractSecondOrderPredicateOp{constructor(path,ops){super(path,ops),this.ops=ops}op(){return"not"}code(){return 44}test(doc){for(const op of this.ops)if(op.test(doc))return!1;return!0}toJson(parent){return{op:"not",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),apply:this.ops.map(op=>op.toJson(this))}}toCompact(parent,verbose){return[verbose?"not":44,parent?this.path.slice(parent.path.length):this.path,this.ops.map(op=>op.toCompact(this,verbose))]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(44),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path);const length=this.ops.length;encoder.encodeArrayHeader(length);for(let i=0;i<length;i++)this.ops[i].encode(encoder,this)}}exports.OpNot=OpNot},"./node_modules/json-joy/lib/json-patch/op/OpOr.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpOr=void 0;const AbstractSecondOrderPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractSecondOrderPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpOr extends AbstractSecondOrderPredicateOp_1.AbstractSecondOrderPredicateOp{constructor(path,ops){super(path,ops),this.ops=ops}op(){return"or"}code(){return 45}test(doc){for(const op of this.ops)if(op.test(doc))return!0;return!1}toJson(parent){return{op:"or",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),apply:this.ops.map(op=>op.toJson(this))}}toCompact(parent,verbose){return[verbose?"or":45,parent?this.path.slice(parent.path.length):this.path,this.ops.map(op=>op.toCompact(this,verbose))]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(45),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path);const length=this.ops.length;encoder.encodeArrayHeader(length);for(let i=0;i<length;i++)this.ops[i].encode(encoder,this)}}exports.OpOr=OpOr},"./node_modules/json-joy/lib/json-patch/op/OpRemove.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpRemove=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpRemove extends AbstractOp_1.AbstractOp{constructor(path,oldValue){super(path),this.oldValue=oldValue}op(){return"remove"}code(){return 1}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);if(void 0===ref.val)throw new Error("NOT_FOUND");return(0,json_pointer_1.isObjectReference)(ref)?delete ref.obj[ref.key]:(0,json_pointer_1.isArrayReference)(ref)?void 0!==ref.val&&ref.obj.splice(ref.key,1):doc=null,{doc,old:ref.val}}toJson(parent){const json={op:"remove",path:(0,json_pointer_1.formatJsonPointer)(this.path)};return void 0!==this.oldValue&&(json.oldValue=this.oldValue),json}toCompact(parent,verbose){const opcode=verbose?"remove":1;return void 0===this.oldValue?[opcode,this.path]:[opcode,this.path,this.oldValue]}encode(encoder,parent){const hasOldValue=void 0!==this.oldValue;encoder.encodeArrayHeader(hasOldValue?3:2),encoder.writer.u8(1),encoder.encodeArray(this.path),hasOldValue&&encoder.encodeAny(this.oldValue)}}exports.OpRemove=OpRemove},"./node_modules/json-joy/lib/json-patch/op/OpReplace.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpReplace=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpReplace extends AbstractOp_1.AbstractOp{constructor(path,value,oldValue){super(path),this.value=value,this.oldValue=oldValue}op(){return"replace"}code(){return 2}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);if(void 0===ref.val)throw new Error("NOT_FOUND");return(0,json_pointer_1.isObjectReference)(ref)||(0,json_pointer_1.isArrayReference)(ref)?ref.obj[ref.key]=this.value:doc=this.value,{doc,old:ref.val}}toJson(parent){const json={op:"replace",path:(0,json_pointer_1.formatJsonPointer)(this.path),value:this.value};return void 0!==this.oldValue&&(json.oldValue=this.oldValue),json}toCompact(parent,verbose){const opcode=verbose?"replace":2;return void 0===this.oldValue?[opcode,this.path,this.value]:[opcode,this.path,this.value,this.oldValue]}encode(encoder,parent){const hasOldValue=void 0!==this.oldValue;encoder.encodeArrayHeader(hasOldValue?4:3),encoder.writer.u8(2),encoder.encodeArray(this.path),encoder.encodeAny(this.value),hasOldValue&&encoder.encodeAny(this.oldValue)}}exports.OpReplace=OpReplace},"./node_modules/json-joy/lib/json-patch/op/OpSplit.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpSplit=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),util_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/util.js");class OpSplit extends AbstractOp_1.AbstractOp{constructor(path,pos,props){super(path),this.pos=pos,this.props=props}op(){return"split"}code(){return 10}apply(doc){const ref=(0,json_pointer_1.find)(doc,this.path);if(void 0===ref.val)throw new Error("NOT_FOUND");const tuple=this.split(ref.val);return(0,json_pointer_1.isObjectReference)(ref)?ref.obj[ref.key]=tuple:(0,json_pointer_1.isArrayReference)(ref)?(ref.obj[ref.key]=tuple[0],ref.obj.splice(ref.key+1,0,tuple[1])):doc=tuple,{doc,old:ref.val}}split(node){if("string"==typeof node){const{pos,props}=this,before=node.slice(0,pos),after=node.slice(pos);if(!props)return[before,after];return[{...props,text:before},{...props,text:after}]}if((0,util_1.isTextNode)(node)){const{pos,props}=this,before=node.text.slice(0,pos),after=node.text.slice(pos);return[{...node,...props,text:before},{...node,...props,text:after}]}if((0,util_1.isElementNode)(node)){const{pos,props}=this,before=node.children.slice(0,pos),after=node.children.slice(pos);return[{...node,...props,children:before},{...node,...props,children:after}]}if("number"==typeof node){const{pos}=this;return[pos,node-pos]}return[node,node]}toJson(parent){const op={op:"split",path:(0,json_pointer_1.formatJsonPointer)(this.path),pos:this.pos};return this.props&&(op.props=this.props),op}toCompact(parent,verbose){const opcode=verbose?"split":10;return this.props?[opcode,this.path,this.pos,this.props]:[opcode,this.path,this.pos]}encode(encoder,parent){encoder.encodeArrayHeader(this.props?4:3),encoder.writer.u8(10),encoder.encodeArray(this.path),encoder.encodeNumber(this.pos),this.props&&encoder.encodeObject(this.props)}}exports.OpSplit=OpSplit},"./node_modules/json-joy/lib/json-patch/op/OpStarts.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpStarts=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpStarts extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value,ignore_case){super(path),this.value=value,this.ignore_case=ignore_case}op(){return"starts"}code(){return 37}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;const outer=this.ignore_case?val.toLowerCase():val,inner=this.ignore_case?this.value.toLowerCase():this.value;return outer.startsWith(inner)}toJson(parent){const op={op:"starts",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value};return this.ignore_case&&(op.ignore_case=this.ignore_case),op}toCompact(parent,verbose){const opcode=verbose?"starts":37;return this.ignore_case?[opcode,parent?this.path.slice(parent.path.length):this.path,this.value,1]:[opcode,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){const ignoreCase=this.ignore_case;encoder.encodeArrayHeader(ignoreCase?4:3),encoder.writer.u8(37),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeString(this.value),ignoreCase&&encoder.writer.u8(1)}}exports.OpStarts=OpStarts},"./node_modules/json-joy/lib/json-patch/op/OpStrDel.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpStrDel=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpStrDel extends AbstractOp_1.AbstractOp{constructor(path,pos,str,len){super(path),this.pos=pos,this.str=str,this.len=len}op(){return"str_del"}code(){return 7}deleteLength(){return"string"==typeof this.str?this.str.length:this.len}apply(doc){const{val,key,obj}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)throw new Error("NOT_A_STRING");const length=val.length,pos=Math.min(this.pos,val.length),start=Math.min(pos,length),deletionLength=void 0!==this.str?this.str.length:this.len,end=Math.min(pos+deletionLength,length),result=val.slice(0,start)+val.substr(end);return obj?obj[key]=result:doc=result,{doc,old:val}}toJson(parent){return"string"==typeof this.str?{op:"str_del",path:(0,json_pointer_1.formatJsonPointer)(this.path),pos:this.pos,str:this.str}:{op:"str_del",path:(0,json_pointer_1.formatJsonPointer)(this.path),pos:this.pos,len:this.len}}toCompact(parent,verbose){const opcode=verbose?"str_del":7;return"string"==typeof this.str?[opcode,this.path,this.pos,this.str]:[opcode,this.path,this.pos,0,this.len]}encode(encoder,parent){const hasStr="string"==typeof this.str;encoder.encodeArrayHeader(hasStr?4:5),encoder.writer.u8(7),encoder.encodeArray(this.path),encoder.encodeNumber(this.pos),hasStr?encoder.encodeString(this.str):(encoder.writer.u8(0),encoder.encodeNumber(this.len))}}exports.OpStrDel=OpStrDel},"./node_modules/json-joy/lib/json-patch/op/OpStrIns.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpStrIns=void 0;const AbstractOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpStrIns extends AbstractOp_1.AbstractOp{constructor(path,pos,str){super(path),this.pos=pos,this.str=str}op(){return"str_ins"}code(){return 6}apply(doc){const{val,key,obj}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val){if(void 0!==val)throw new Error("NOT_A_STRING");if(0!==this.pos)throw new Error("POS")}const str="string"==typeof val?val:"",pos=Math.min(this.pos,str.length),before=str.slice(0,pos),after=str.slice(pos),result=before+this.str+after;return obj?obj[key]=result:doc=result,{doc,old:val}}toJson(parent){return{op:"str_ins",path:(0,json_pointer_1.formatJsonPointer)(this.path),pos:this.pos,str:this.str}}toCompact(parent,verbose){return[verbose?"str_ins":6,this.path,this.pos,this.str]}encode(encoder,parent){encoder.encodeArrayHeader(4),encoder.writer.u8(6),encoder.encodeArray(this.path),encoder.encodeNumber(this.pos),encoder.encodeString(this.str)}}exports.OpStrIns=OpStrIns},"./node_modules/json-joy/lib/json-patch/op/OpTest.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpTest=void 0;const json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),deepEqual_1=__webpack_require__("./node_modules/json-joy/lib/json-equal/deepEqual/index.js");class OpTest extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value,not){super(path),this.value=value,this.not=not}op(){return"test"}code(){return 5}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if(void 0===val)return!!this.not;const test=(0,deepEqual_1.deepEqual)(val,this.value);return this.not?!test:test}toJson(parent){const op={op:"test",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value};return this.not&&(op.not=this.not),op}toCompact(parent,verbose){const path=parent?this.path.slice(parent.path.length):this.path,opcode=verbose?"test":5;return this.not?[opcode,path,this.value,1]:[opcode,path,this.value]}encode(encoder,parent){encoder.encodeArrayHeader(this.not?4:3),encoder.writer.u8(5),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeAny(this.value),this.not&&encoder.writer.u8(1)}}exports.OpTest=OpTest},"./node_modules/json-joy/lib/json-patch/op/OpTestString.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpTestString=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpTestString extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,pos,str,not){super(path),this.pos=pos,this.str=str,this.not=not}op(){return"test_string"}code(){return 40}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;const length=val.length,start=Math.min(this.pos,length),end=Math.min(this.pos+this.str.length,length),test=val.substring(start,end)===this.str;return this.not?!test:test}toJson(parent){const op={op:"test_string",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),pos:this.pos,str:this.str};return this.not&&(op.not=this.not),op}toCompact(parent,verbose){const opcode=verbose?"test_string":40,path=parent?this.path.slice(parent.path.length):this.path;return this.not?[opcode,path,this.pos,this.str,1]:[opcode,path,this.pos,this.str]}encode(encoder,parent){encoder.encodeArrayHeader(this.not?5:4),encoder.writer.u8(40),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeNumber(this.pos),encoder.encodeString(this.str),this.not&&encoder.writer.u8(1)}}exports.OpTestString=OpTestString},"./node_modules/json-joy/lib/json-patch/op/OpTestStringLen.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpTestStringLen=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpTestStringLen extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,len,not){super(path),this.len=len,this.not=not}op(){return"test_string_len"}code(){return 41}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);if("string"!=typeof val)return!1;const test=val.length>=this.len;return this.not?!test:test}toJson(parent){const op={op:"test_string_len",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),len:this.len};return this.not&&(op.not=this.not),op}toCompact(parent,verbose){const opcode=verbose?"test_string_len":41,path=parent?this.path.slice(parent.path.length):this.path;return this.not?[opcode,path,this.len,1]:[opcode,path,this.len]}encode(encoder,parent){encoder.encodeArrayHeader(this.not?4:3),encoder.writer.u8(41),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeNumber(this.len),this.not&&encoder.writer.u8(1)}}exports.OpTestStringLen=OpTestStringLen},"./node_modules/json-joy/lib/json-patch/op/OpTestType.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpTestType=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),{isArray}=Array;class OpTestType extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,type){super(path),this.type=type}op(){return"test_type"}code(){return 39}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);return null===val?this.type.indexOf("null")>-1:isArray(val)?this.type.indexOf("array")>-1:this.type.indexOf(typeof val)>-1||"number"==typeof val&&val===Math.round(val)&&this.type.indexOf("integer")>-1}toJson(parent){return{op:"test_type",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),type:this.type}}toCompact(parent,verbose){return[verbose?"test_type":39,parent?this.path.slice(parent.path.length):this.path,this.type]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(39),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeArray(this.type)}}exports.OpTestType=OpTestType},"./node_modules/json-joy/lib/json-patch/op/OpType.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpType=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js"),{isArray}=Array;class OpType extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path,value){super(path),this.value=value}op(){return"type"}code(){return 42}test(doc){const{val}=(0,json_pointer_1.find)(doc,this.path);return null===val?"null"===this.value:isArray(val)?"array"===this.value:typeof val===this.value||"number"==typeof val&&val===Math.round(val)&&"integer"===this.value}toJson(parent){return{op:"type",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path),value:this.value}}toCompact(parent,verbose){return[verbose?"type":42,parent?this.path.slice(parent.path.length):this.path,this.value]}encode(encoder,parent){encoder.encodeArrayHeader(3),encoder.writer.u8(42),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path),encoder.encodeString(this.value)}}exports.OpType=OpType},"./node_modules/json-joy/lib/json-patch/op/OpUndefined.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpUndefined=void 0;const AbstractPredicateOp_1=__webpack_require__("./node_modules/json-joy/lib/json-patch/op/AbstractPredicateOp.js"),json_pointer_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/index.js");class OpUndefined extends AbstractPredicateOp_1.AbstractPredicateOp{constructor(path){super(path)}op(){return"undefined"}code(){return 38}test(doc){try{const{val}=(0,json_pointer_1.find)(doc,this.path);return void 0===val}catch(error){if("NOT_FOUND"===error.message)return!0;throw error}}toJson(parent){return{op:"undefined",path:(0,json_pointer_1.formatJsonPointer)(parent?this.path.slice(parent.path.length):this.path)}}toCompact(parent,verbose){return[verbose?"undefined":38,parent?this.path.slice(parent.path.length):this.path]}encode(encoder,parent){encoder.encodeArrayHeader(2),encoder.writer.u8(38),encoder.encodeArray(parent?this.path.slice(parent.path.length):this.path)}}exports.OpUndefined=OpUndefined},"./node_modules/json-joy/lib/json-patch/op/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/tslib/tslib.es6.mjs").__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/op/Op.js"),exports)},"./node_modules/json-joy/lib/json-patch/opcodes.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/json-joy/lib/json-patch/slate.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/json-joy/lib/json-patch/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/codec/json/types.js"),exports),tslib_1.__exportStar(__webpack_require__("./node_modules/json-joy/lib/json-patch/slate.js"),exports)},"./node_modules/json-joy/lib/json-patch/util.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMatcherDefault=exports.isElementNode=exports.isTextNode=void 0;const{isArray}=Array;exports.isTextNode=node=>!!node&&"object"==typeof node&&"string"==typeof node.text;exports.isElementNode=node=>!!node&&"object"==typeof node&&isArray(node.children);exports.createMatcherDefault=(pattern,ignoreCase)=>{const reg=new RegExp(pattern,ignoreCase?"i":void 0);return value=>reg.test(value)}},"./node_modules/json-joy/lib/json-patch/validate.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.validatePredicateOperation=exports.validateOperation=exports.validateOperations=void 0;const validate_1=__webpack_require__("./node_modules/@jsonjoy.com/json-pointer/lib/validate.js"),hasOwnProperty_1=__webpack_require__("./node_modules/@jsonjoy.com/util/lib/hasOwnProperty.js");exports.validateOperations=(ops,allowMatchesOp=!1)=>{if(!Array.isArray(ops))throw new Error("Not a array.");if(!ops.length)throw new Error("Empty operation patch.");for(let i=0;i<ops.length;i++){const op=ops[i];try{(0,exports.validateOperation)(op,allowMatchesOp)}catch(error){const message=error instanceof Error?error.message:String(error);throw new Error(`Error in operation [index = ${i}] (${message}).`)}}};exports.validateOperation=(op,allowMatchesOp)=>{if(!op||"object"!=typeof op)throw new Error("OP_INVALID");const path=op.path;if("string"!=typeof path)throw new Error("OP_PATH_INVALID");switch((0,validate_1.validateJsonPointer)(path),op.op){case"add":validateOperationAdd(op);break;case"remove":validateOperationRemove(op);break;case"replace":validateOperationReplace(op);break;case"copy":validateOperationCopy(op);break;case"move":validateOperationMove(op);break;case"flip":break;case"inc":validateOperationInc(op);break;case"str_ins":validateOperationInsertText(op);break;case"str_del":validateOperationRemoveText(op);break;case"extend":validateOperationExtend(op);break;case"merge":validateOperationMerge(op);break;case"split":validateOperationSplit(op);break;default:(0,exports.validatePredicateOperation)(op,allowMatchesOp)}};exports.validatePredicateOperation=(op,allowMatchesOp)=>{if(!op||"object"!=typeof op)throw new Error("OP_INVALID");switch((0,validate_1.validateJsonPointer)(op.path),op.op){case"test":validateOperationTest(op);break;case"test_type":validateOperationTestType(op);break;case"test_string":validateOperationTestString(op);break;case"test_string_len":validateOperationTestStringLen(op);break;case"matches":if(!allowMatchesOp)throw new Error('"matches" operation not allowed.');validateOperationPredicateWithValueAndCase(op);break;case"contains":case"ends":case"starts":validateOperationPredicateWithValueAndCase(op);break;case"in":if(!Array.isArray(op.value))throw new Error('"in" operation "value" must be an array.');break;case"more":case"less":if("number"!=typeof op.value)throw new Error("Value must be a number.");break;case"type":validateValueString(op.value),validateTestType(op.value);break;case"defined":case"undefined":break;case"and":case"or":case"not":if(!Array.isArray(op.apply))throw new Error(`"${op.op}" predicate operators must be an array.`);if(!op.apply.length)throw new Error("Predicate list is empty.");for(const predicate of op.apply)(0,exports.validatePredicateOperation)(predicate,allowMatchesOp);break;default:throw new Error("OP_UNKNOWN")}};const validateOperationAdd=op=>{validateValue(op.value)},validateOperationRemove=op=>{if((0,hasOwnProperty_1.hasOwnProperty)(op,"oldValue")&&void 0===op.oldValue)throw new Error("Invalid oldValue.")},validateOperationReplace=op=>{if((0,hasOwnProperty_1.hasOwnProperty)(op,"oldValue")&&void 0===op.oldValue)throw new Error("Invalid oldValue.")},validateOperationCopy=op=>{const from=op.from;if("string"!=typeof from)throw new Error("OP_FROM_INVALID");(0,validate_1.validateJsonPointer)(from)},validateOperationMove=op=>{const from=op.from;if("string"!=typeof from)throw new Error("OP_FROM_INVALID");(0,validate_1.validateJsonPointer)(from);const{path}=op;if(0===path.indexOf(from+"/"))throw new Error("Cannot move into own children.")},validateOperationTest=op=>{validateValue(op.value),validateNot(op.not)},validateOperationTestType=op=>{if(!Array.isArray(op.type))throw new Error('Invalid "type" field.');if(op.type.length<1)throw new Error("Empty type list.");for(const type of op.type)validateTestType(type)},validTypes=new Set(["string","number","boolean","object","integer","array","null"]),validateTestType=type=>{if(!validTypes.has(type))throw new Error("Invalid type.")},validateOperationTestString=op=>{if(validateNot(op.not),validateNonNegativeInteger(op.pos),"string"!=typeof op.str)throw new Error("Value must be a string.")},validateOperationTestStringLen=op=>{validateNot(op.not),validateNonNegativeInteger(op.len)},validateOperationInc=op=>{if("number"!=typeof op.inc)throw new Error('Invalid "inc" value.')},validateOperationInsertText=op=>{if(validateNonNegativeInteger(op.pos),"string"!=typeof op.str)throw new Error('Expected a string "text" field.')},validateOperationRemoveText=op=>{if(validateNonNegativeInteger(op.pos),void 0===op.str&&void 0===op.len)throw new Error('Either "text" or "pos" need to be set.');if(void 0!==op.str){if("string"!=typeof op.str)throw new Error('Expected a string "text" field.')}else validateNonNegativeInteger(op.len)},validateOperationExtend=op=>{if(!op.props||"object"!=typeof op.props)throw new Error('Invalid "props" field.');if(void 0!==op.deleteNull&&"boolean"!=typeof op.deleteNull)throw new Error('Expected "deleteNull" field to be boolean.')},validateOperationMerge=op=>{if(validateInteger(op.pos),op.pos<1)throw new Error('Expected "pos" field to be greater than 0.');if(op.props&&"object"!=typeof op.props)throw new Error('Invalid "props" field.')},validateOperationSplit=op=>{if(validateInteger(op.pos),op.props&&"object"!=typeof op.props)throw new Error('Invalid "props" field.')},validateOperationPredicateWithValueAndCase=op=>{validateValueString(op.value),validateIgnoreCase(op.ignore_case)},validateValue=value=>{if(void 0===value)throw new Error("OP_VALUE_MISSING")},validateValueString=value=>{if("string"!=typeof value)throw new Error('Expected "value" to be string.');if(value.length>2e4)throw new Error("Value too long.")},validateIgnoreCase=ignore=>{if(void 0!==ignore&&"boolean"!=typeof ignore)throw new Error('Expected "ignore_case" to be a boolean.')},validateNot=not=>{if(void 0!==not&&"boolean"!=typeof not)throw new Error('Invalid "not" modifier.')},validateInteger=num=>{if("number"!=typeof num||num!==Math.round(num))throw new Error("Not an integer.")},validateNonNegativeInteger=num=>{if(validateInteger(num),num<0)throw new Error("Number is negative.")}}}]);