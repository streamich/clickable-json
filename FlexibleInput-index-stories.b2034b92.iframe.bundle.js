"use strict";(self.webpackChunkclickable_json=self.webpackChunkclickable_json||[]).push([[112],{"./src/FlexibleInput/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExtraWidth:()=>ExtraWidth,Interactive:()=>Interactive,MaxWidth:()=>MaxWidth,MinWidth:()=>MinWidth,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/FlexibleInput/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"FlexibleInput",component:___WEBPACK_IMPORTED_MODULE_1__.o,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{}},Primary={args:{value:"Typ",typeahead:"e something here"}},InteractiveDemo=props=>{const[value,setValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState("Hello World");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{border:"1px solid #bbb",borderRadius:4,display:"inline-block",padding:"4px 8px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.o,{...props,value,typeahead:props.typeahead||("n"===value?"ull":"f"===value?"alse":""),onChange:e=>setValue(e.target.value)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:["Value: ",value]})]})};InteractiveDemo.displayName="InteractiveDemo";const Interactive={args:{},render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InteractiveDemo,{})},MinWidth={args:{},render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InteractiveDemo,{minWidth:200})},MaxWidth={args:{},render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InteractiveDemo,{maxWidth:200})},ExtraWidth={args:{},render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InteractiveDemo,{extraWidth:100})};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: ({\n    value: 'Typ',\n    typeahead: 'e something here'\n  } as any)\n}",...Primary.parameters?.docs?.source}}},Interactive.parameters={...Interactive.parameters,docs:{...Interactive.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => <InteractiveDemo />\n}",...Interactive.parameters?.docs?.source}}},MinWidth.parameters={...MinWidth.parameters,docs:{...MinWidth.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => <InteractiveDemo minWidth={200} />\n}",...MinWidth.parameters?.docs?.source}}},MaxWidth.parameters={...MaxWidth.parameters,docs:{...MaxWidth.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => <InteractiveDemo maxWidth={200} />\n}",...MaxWidth.parameters?.docs?.source}}},ExtraWidth.parameters={...ExtraWidth.parameters,docs:{...ExtraWidth.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => <InteractiveDemo extraWidth={100} />\n}",...ExtraWidth.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","Interactive","MinWidth","MaxWidth","ExtraWidth"]},"./src/FlexibleInput/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>FlexibleInput});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const blockClass=(0,lib.rule)({d:"inline-block",pos:"relative"}),inputClass=(0,lib.rule)({bxz:"border-box",ov:"hidden",pd:0,mr:0,bd:0,bg:0,out:0,col:"inherit",fw:"inherit",f:"inherit"}),sizerClass=(0,lib.rule)({pos:"absolute",ov:"hidden",pe:"none",us:"none",bxz:"border-box",t:0,l:0,ws:"pre"}),FlexibleInput=_ref=>{let{inp,value,typebefore="",typeahead="",extraWidth,minWidth=8,maxWidth,focus,onChange,onFocus,onBlur,onKeyDown,onSubmit,onCancel,onTab}=_ref;const inputRef=react.useRef(null),sizerRef=react.useRef(null),theme=(0,lib.useTheme)();return react.useLayoutEffect((()=>{inputRef.current&&sizerRef.current&&(focus&&inputRef.current.focus(),((from,to,which)=>{const styles=window.getComputedStyle(from);if(styles)for(const property of which)to.style[property]=styles[property]})(inputRef.current,sizerRef.current,["font","fontSize","fontFamily","fontWeight","fontStyle","lineHeight","letterSpacing","textTransform","height","boxSizing"]))}),[]),react.useLayoutEffect((()=>{if(!inputRef.current||!sizerRef.current)return;let width=sizerRef.current.scrollWidth;extraWidth&&(width+=extraWidth),minWidth&&(width=Math.max(width,minWidth)),maxWidth&&(width=Math.min(width,maxWidth)),inputRef.current.style.width=width+"px"}),[value,typeahead,extraWidth]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!!typebefore&&(0,jsx_runtime.jsx)("span",{style:{color:theme.g(.7)},children:typebefore}),(0,jsx_runtime.jsxs)("div",{className:blockClass,children:[(0,jsx_runtime.jsx)("input",{ref:input=>{inputRef.current=input,inp&&inp(input)},className:inputClass,value,onChange,onFocus,onBlur,onKeyDown:e=>{"Enter"===e.key?onSubmit&&onSubmit(e):"Escape"===e.key?onCancel&&onCancel(e):"Tab"===e.key&&onTab&&onTab(e),onKeyDown&&onKeyDown(e)}}),(0,jsx_runtime.jsxs)("div",{ref:sizerRef,className:sizerClass,children:[(0,jsx_runtime.jsx)("span",{style:{visibility:"hidden"},children:value}),!!typeahead&&(0,jsx_runtime.jsx)("span",{style:{color:theme.g(.7)},children:typeahead})]})]})]})};try{FlexibleInput.displayName="FlexibleInput",FlexibleInput.__docgenInfo={description:"",displayName:"FlexibleInput",props:{inp:{defaultValue:null,description:"Ref to the input element.",name:"inp",required:!1,type:{name:"((el: HTMLInputElement | null) => void)"}},value:{defaultValue:null,description:"Value to display.",name:"value",required:!0,type:{name:"string"}},typebefore:{defaultValue:{value:""},description:"Placeholder to display.",name:"typebefore",required:!1,type:{name:"string"}},typeahead:{defaultValue:{value:""},description:"Typeahead string to add to the value. It is visible at half opacity.",name:"typeahead",required:!1,type:{name:"string"}},extraWidth:{defaultValue:null,description:"Addition width to add, for example, to account for number stepper.",name:"extraWidth",required:!1,type:{name:"number"}},minWidth:{defaultValue:{value:"8"},description:"Minimum width to allow.",name:"minWidth",required:!1,type:{name:"number"}},maxWidth:{defaultValue:null,description:"Maximum width to allow.",name:"maxWidth",required:!1,type:{name:"number"}},focus:{defaultValue:null,description:"Whether the input is focused on initial render.",name:"focus",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Callback for when the value changes.",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"Callback for when the input is focused.",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"Callback for when the input is blurred.",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onKeyDown:{defaultValue:null,description:"Callback for when a key is pressed.",name:"onKeyDown",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onSubmit:{defaultValue:null,description:"Callback for when the Enter key is pressed.",name:"onSubmit",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onCancel:{defaultValue:null,description:"Callback for when the Escape key is pressed.",name:"onCancel",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}},onTab:{defaultValue:null,description:"Callback for when the Tab key is pressed.",name:"onTab",required:!1,type:{name:"KeyboardEventHandler<HTMLInputElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FlexibleInput/index.tsx#FlexibleInput"]={docgenInfo:FlexibleInput.__docgenInfo,name:"FlexibleInput",path:"src/FlexibleInput/index.tsx#FlexibleInput"})}catch(__react_docgen_typescript_loader_error){}}}]);